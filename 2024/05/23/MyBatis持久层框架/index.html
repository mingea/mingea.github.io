<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MyBatisæŒä¹…å±‚æ¡†æ¶ | å­¦ä¹ ç¬”è®°</title><meta name="author" content="æ˜"><meta name="copyright" content="æ˜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MyBatisæŒä¹…å±‚æ¡†æ¶ç›®å½• ä¸€ã€Mybatisç®€ä»‹ 1. ç®€ä»‹ 2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯” 3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰   äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±• 1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout 2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜ 3. æœ€ä½³æ‹æ¡£ç”¨æ³• 4. Lombokæ’ä»¶çš„ä½¿ç”¨ 4.1 Lombokç®€ä»‹ 4.2 Lombokå®‰è£… 4.3 Lombokä½¿ç”¨æ³¨è§£     ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨ 1. å‘SQLè¯­å¥ä¼ ">
<meta property="og:type" content="article">
<meta property="og:title" content="MyBatisæŒä¹…å±‚æ¡†æ¶">
<meta property="og:url" content="http://example.com/2024/05/23/MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/index.html">
<meta property="og:site_name" content="å­¦ä¹ ç¬”è®°">
<meta property="og:description" content="MyBatisæŒä¹…å±‚æ¡†æ¶ç›®å½• ä¸€ã€Mybatisç®€ä»‹ 1. ç®€ä»‹ 2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯” 3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰   äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±• 1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout 2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜ 3. æœ€ä½³æ‹æ¡£ç”¨æ³• 4. Lombokæ’ä»¶çš„ä½¿ç”¨ 4.1 Lombokç®€ä»‹ 4.2 Lombokå®‰è£… 4.3 Lombokä½¿ç”¨æ³¨è§£     ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨ 1. å‘SQLè¯­å¥ä¼ ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/butterfly-icon.png">
<meta property="article:published_time" content="2024-05-23T06:35:22.000Z">
<meta property="article:modified_time" content="2025-10-21T10:55:02.669Z">
<meta property="article:author" content="æ˜">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MyBatisæŒä¹…å±‚æ¡†æ¶",
  "url": "http://example.com/2024/05/23/MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/",
  "image": "http://example.com/img/butterfly-icon.png",
  "datePublished": "2024-05-23T06:35:22.000Z",
  "dateModified": "2025-10-21T10:55:02.669Z",
  "author": [
    {
      "@type": "Person",
      "name": "æ˜",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2024/05/23/MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MyBatisæŒä¹…å±‚æ¡†æ¶',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> ç”Ÿæ´»</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> åˆ†äº«</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> ç›¸å†Œ</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> å½±è§†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">å­¦ä¹ ç¬”è®°</span></a><a class="nav-page-title" href="/"><span class="site-name">MyBatisæŒä¹…å±‚æ¡†æ¶</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> ç”Ÿæ´»</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> åˆ†äº«</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> ç›¸å†Œ</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> å½±è§†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MyBatisæŒä¹…å±‚æ¡†æ¶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-05-23T06:35:22.000Z" title="å‘è¡¨äº 2024-05-23 14:35:22">2024-05-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-10-21T10:55:02.669Z" title="æ›´æ–°äº 2025-10-21 18:55:02">2025-10-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java%E5%BC%80%E5%8F%91/">javaå¼€å‘</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="MyBatisæŒä¹…å±‚æ¡†æ¶"><a href="#MyBatisæŒä¹…å±‚æ¡†æ¶" class="headerlink" title="MyBatisæŒä¹…å±‚æ¡†æ¶"></a>MyBatisæŒä¹…å±‚æ¡†æ¶</h2><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul>
<li><a href="#%E4%B8%80Mybatis%E7%AE%80%E4%BB%8B">ä¸€ã€Mybatisç®€ä»‹</a><ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a></li>
<li><a href="#2-%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94">2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”</a></li>
<li><a href="#3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E5%9F%BA%E4%BA%8EMybatis3%E6%96%B9%E5%BC%8F">3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%89%A9%E5%B1%95">äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•</a><ul>
<li><a href="#1-%E7%94%A8%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E6%9B%BF%E4%BB%A3sout">1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout</a></li>
<li><a href="#2-Java%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB%E6%BC%94%E5%8F%98">2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜</a></li>
<li><a href="#3-%E6%9C%80%E4%BD%B3%E6%8B%8D%E6%A1%A3%E7%94%A8%E6%B3%95">3. æœ€ä½³æ‹æ¡£ç”¨æ³•</a></li>
<li><a href="#4-Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8">4. Lombokæ’ä»¶çš„ä½¿ç”¨</a><ul>
<li><a href="#41-Lombok%E7%AE%80%E4%BB%8B">4.1 Lombokç®€ä»‹</a></li>
<li><a href="#42-Lombok%E5%AE%89%E8%A3%85">4.2 Lombokå®‰è£…</a></li>
<li><a href="#43-Lombok%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3">4.3 Lombokä½¿ç”¨æ³¨è§£</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B8%89MyBatis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨</a><ul>
<li><a href="#1-%E5%90%91SQL%E8%AF%AD%E5%8F%A5%E4%BC%A0%E5%8F%82">1. å‘SQLè¯­å¥ä¼ å‚</a><ul>
<li><a href="#11-mybatis%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E9%85%8D%E7%BD%AE">1.1 mybatisæ—¥å¿—è¾“å‡ºé…ç½®</a></li>
<li><a href="#12-%E5%BD%A2%E5%BC%8F">1.2 #{}å½¢å¼</a></li>
<li><a href="#13-%E5%BD%A2%E5%BC%8F">1.3 ${}å½¢å¼</a></li>
</ul>
</li>
<li><a href="#2-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5">2. æ•°æ®è¾“å…¥</a><ul>
<li><a href="#21-Mybatis%E6%80%BB%E4%BD%93%E6%9C%BA%E5%88%B6%E6%A6%82%E6%8B%AC">2.1 Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬</a></li>
<li><a href="#22-%E6%A6%82%E5%BF%B5%E8%AF%B4%E6%98%8E">2.2 æ¦‚å¿µè¯´æ˜</a></li>
<li><a href="#23-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.3 å•ä¸ªç®€å•ç±»å‹å‚æ•°</a></li>
<li><a href="#24-%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.4 å®ä½“ç±»ç±»å‹å‚æ•°</a></li>
<li><a href="#25-%E9%9B%B6%E6%95%A3%E7%9A%84%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE">2.5 é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®</a></li>
<li><a href="#26-Map%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.6 Mapç±»å‹å‚æ•°</a></li>
</ul>
</li>
<li><a href="#3-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA">3. æ•°æ®è¾“å‡º</a><ul>
<li><a href="#31-%E8%BE%93%E5%87%BA%E6%A6%82%E8%BF%B0">3.1 è¾“å‡ºæ¦‚è¿°</a></li>
<li><a href="#32-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B">3.2 å•ä¸ªç®€å•ç±»å‹</a></li>
<li><a href="#33-%E8%BF%94%E5%9B%9E%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%AF%B9%E8%B1%A1">3.3 è¿”å›å®ä½“ç±»å¯¹è±¡</a></li>
<li><a href="#34-%E8%BF%94%E5%9B%9EMap%E7%B1%BB%E5%9E%8B">3.4 è¿”å›Mapç±»å‹</a></li>
<li><a href="#35-%E8%BF%94%E5%9B%9EList%E7%B1%BB%E5%9E%8B">3.5 è¿”å›Listç±»å‹</a></li>
<li><a href="#36-%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE%E5%80%BC">3.6 è¿”å›ä¸»é”®å€¼</a></li>
<li><a href="#37-%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB">3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»</a></li>
</ul>
</li>
<li><a href="#4-CRUD%E5%BC%BA%E5%8C%96%E7%BB%83%E4%B9%A0">4. CRUDå¼ºåŒ–ç»ƒä¹ </a></li>
<li><a href="#5-mapperXML%E6%A0%87%E7%AD%BE%E6%80%BB%E7%BB%93">5. mapperXMLæ ‡ç­¾æ€»ç»“</a></li>
</ul>
</li>
<li><a href="#%E5%9B%9BMyBatis%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84">å››ã€MyBatiså¤šè¡¨æ˜ å°„</a><ul>
<li><a href="#1-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%A6%82%E5%BF%B5">1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ</a></li>
<li><a href="#2-%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84">2. å¯¹ä¸€æ˜ å°„</a></li>
<li><a href="#3-%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84">3. å¯¹å¤šæ˜ å°„</a></li>
<li><a href="#4-%E5%A4%9A%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84">4. å¤šå¯¹å¤šæ˜ å°„</a></li>
<li><a href="#5-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93">5. å¤šè¡¨æ˜ å°„æ€»ç»“</a><ul>
<li><a href="#51-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96">5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–</a></li>
<li><a href="#52-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93">5.2 å¤šè¡¨æ˜ å°„æ€»ç»“</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%BA%94MyBatis%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5">äº”ã€MyBatisåŠ¨æ€è¯­å¥</a><ul>
<li><a href="#1-%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5%E9%9C%80%E6%B1%82%E5%92%8C%E7%AE%80%E4%BB%8B">1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹</a></li>
<li><a href="#2-if%E5%92%8Cwhere%E6%A0%87%E7%AD%BE">2. ifå’Œwhereæ ‡ç­¾</a></li>
<li><a href="#3-set%E6%A0%87%E7%AD%BE">3. setæ ‡ç­¾</a></li>
<li><a href="#4-trim%E6%A0%87%E7%AD%BE%E4%BA%86%E8%A7%A3">4. trimæ ‡ç­¾(äº†è§£)</a></li>
<li><a href="#5-choosewhenotherwise%E6%A0%87%E7%AD%BE">5. choose&#x2F;when&#x2F;otherwiseæ ‡ç­¾</a></li>
<li><a href="#6-foreach%E6%A0%87%E7%AD%BE">6. foreachæ ‡ç­¾</a></li>
<li><a href="#7-sql%E7%89%87%E6%AE%B5">7. sqlç‰‡æ®µ</a></li>
</ul>
</li>
<li><a href="#%E5%85%ADMyBatis%E9%AB%98%E7%BA%A7%E6%89%A9%E5%B1%95">å…­ã€MyBatisé«˜çº§æ‰©å±•</a><ul>
<li><a href="#1-Mapper%E6%89%B9%E9%87%8F%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96">1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–</a></li>
<li><a href="#2-%E6%8F%92%E4%BB%B6%E5%92%8C%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6PageHelper">2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper</a><ul>
<li><a href="#21-%E6%8F%92%E4%BB%B6%E6%9C%BA%E5%88%B6%E5%92%8CPageHelper%E6%8F%92%E4%BB%B6%E4%BB%8B%E7%BB%8D">2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»</a></li>
<li><a href="#22-PageHelper%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8">2.2 PageHelperæ’ä»¶ä½¿ç”¨</a></li>
</ul>
</li>
<li><a href="#3-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%92%8CMybatisX%E6%8F%92%E4%BB%B6">3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶</a><ul>
<li><a href="#31-ORM%E6%80%9D%E7%BB%B4%E4%BB%8B%E7%BB%8D">3.1 ORMæ€ç»´ä»‹ç»</a></li>
<li><a href="#31-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B">3.1 é€†å‘å·¥ç¨‹</a></li>
<li><a href="#32-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E6%8F%92%E4%BB%B6MyBatisX%E4%BD%BF%E7%94%A8">3.2 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B8%83MyBatis%E6%80%BB%E7%BB%93">ä¸ƒã€MyBatisæ€»ç»“</a></li>
</ul>
<h2 id="ä¸€ã€Mybatisç®€ä»‹"><a href="#ä¸€ã€Mybatisç®€ä»‹" class="headerlink" title="ä¸€ã€Mybatisç®€ä»‹"></a>ä¸€ã€Mybatisç®€ä»‹</h2><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><p><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></p>
<p>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</p>
<p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MyBatisæ˜¯æŒä¹…å±‚çš„ä¸€ä¸ªåŠè‡ªåŠ¨åŒ–çš„ORMæ¡†æ¶</span><br><span class="line">ORMï¼šObject RelationalShip Mapping  å¯¹è±¡å…³ç³»æ˜ å°„</span><br><span class="line">BaseDao: executeUpdate(),executeQuery()-&gt;è§£æç»“æœé›†-&gt;é€šè¿‡åå°„æŠ€æœ¯å†å°è£…æˆå®ä½“ç±»</span><br></pre></td></tr></table></figure>





<p><img src="image_6z_rPg5vfi.png"></p>
<blockquote>
<p>ç¤¾åŒºä¼šæŒç»­æ›´æ–°å¼€æºé¡¹ç›®ï¼Œç‰ˆæœ¬ä¼šä¸æ–­å˜åŒ–ï¼Œæˆ‘ä»¬ä¸å¿…æ¯ä¸ªå°ç‰ˆæœ¬éƒ½è¿½ï¼Œå…³æ³¨é‡å¤§æ›´æ–°çš„å¤§ç‰ˆæœ¬å‡çº§å³å¯ã€‚</p>
</blockquote>
<p>æœ¬è¯¾ç¨‹ä½¿ç”¨ï¼š3.5.11ç‰ˆæœ¬</p>
<h3 id="2-æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”"><a href="#2-æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”" class="headerlink" title="2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”"></a>2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”</h3><ul>
<li>JDBC<ul>
<li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</li>
<li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li>
<li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li>
</ul>
</li>
<li>Hibernate å’Œ JPA     SSH:Struts  spring  Hibernate<ul>
<li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</li>
<li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li>
<li>å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆçš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li>
<li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</li>
<li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li>
</ul>
</li>
<li>MyBatis<ul>
<li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</li>
<li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li>
<li>å¼€å‘æ•ˆç‡ç¨é€Šäº Hibernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥æ”¶</li>
</ul>
</li>
</ul>
<p>å¼€å‘æ•ˆç‡ï¼šHibernate&gt;Mybatis&gt;JDBC</p>
<p>è¿è¡Œæ•ˆç‡ï¼šJDBC&gt;Mybatis&gt;Hibernate</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°è£…ç¨‹åº¦è¶Šé«˜ï¼Œå¼€å‘æ•ˆç‡å°±ä¼šè¶Šé«˜ï¼Œä½†æ˜¯æ€§èƒ½å°±ä¼šè¶Šå·®</span><br></pre></td></tr></table></figure>



<h3 id="3-å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰"><a href="#3-å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰" class="headerlink" title="3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰"></a>3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰</h3><ol>
<li><p>å‡†å¤‡æ•°æ®æ¨¡å‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis<span class="operator">-</span>example`;</span><br><span class="line"></span><br><span class="line">USE `mybatis<span class="operator">-</span>example`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `t_emp`(</span><br><span class="line">  emp_id <span class="type">INT</span> AUTO_INCREMENT,</span><br><span class="line">  emp_name <span class="type">CHAR</span>(<span class="number">100</span>),</span><br><span class="line">  emp_salary <span class="keyword">DOUBLE</span>(<span class="number">10</span>,<span class="number">5</span>),</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span>(emp_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_emp`(emp_name,emp_salary) <span class="keyword">VALUES</span>(&quot;tom&quot;,<span class="number">200.33</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_emp`(emp_name,emp_salary) <span class="keyword">VALUES</span>(&quot;jerry&quot;,<span class="number">666.66</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_emp`(emp_name,emp_salary) <span class="keyword">VALUES</span>(&quot;andy&quot;,<span class="number">777.77</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>é¡¹ç›®æ­å»ºå’Œå‡†å¤‡</p>
<ol>
<li><p>é¡¹ç›®æ­å»º</p>
<p><img src="image_aTxxzrw9eO.png"></p>
</li>
<li><p>ä¾èµ–å¯¼å…¥</p>
<p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mybatisä¾èµ– --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- MySQLé©±åŠ¨ mybatisåº•å±‚ä¾èµ–jdbcé©±åŠ¨å®ç°,æœ¬æ¬¡ä¸éœ€è¦å¯¼å…¥è¿æ¥æ± ,mybatisè‡ªå¸¦! --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--junit5æµ‹è¯•--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å®ä½“ç±»å‡†å¤‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer empId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String empName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Double empSalary;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//getter | setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>å‡†å¤‡Mapperæ¥å£å’ŒMapperXMLæ–‡ä»¶</p>
<p>MyBatis æ¡†æ¶ä¸‹ï¼ŒSQLè¯­å¥ç¼–å†™ä½ç½®å‘ç”Ÿæ”¹å˜ï¼Œä»åŸæ¥çš„Javaç±»ï¼Œæ”¹æˆXMLæˆ–è€…æ³¨è§£å®šä¹‰ï¼</p>
<p>æ¨èåœ¨XMLæ–‡ä»¶ä¸­ç¼–å†™SQLè¯­å¥ï¼Œè®©ç”¨æˆ·èƒ½æ›´ä¸“æ³¨äº SQL ä»£ç ï¼Œä¸ç”¨å…³æ³¨å…¶ä»–çš„JDBCä»£ç ã€‚</p>
<p>å¦‚æœæ‹¿å®ƒè·Ÿå…·æœ‰ç›¸åŒåŠŸèƒ½çš„ JDBC ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œä½ ä¼šç«‹å³å‘ç°çœæ‰äº†å°†è¿‘ 95% çš„ä»£ç ï¼ï¼</p>
<p>ä¸€èˆ¬ç¼–å†™SQLè¯­å¥çš„æ–‡ä»¶å‘½åï¼šXxxMapper.xml  Xxxä¸€èˆ¬å–è¡¨åï¼ï¼</p>
<p>Mybatis ä¸­çš„ Mapper æ¥å£ç›¸å½“äºä»¥å‰çš„ Daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼ŒMapper ä»…ä»…åªæ˜¯å»ºæ¥å£å³å¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»ï¼Œå…·ä½“çš„SQLå†™åˆ°å¯¹åº”çš„Mapperæ–‡ä»¶ï¼Œè¯¥ç”¨æ³•çš„æ€è·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="image_b2QPM-sxTg.png"></p>
<ol>
<li><p>å®šä¹‰mapperæ¥å£</p>
<p>åŒ…ï¼šcom.wzb.mapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wzb.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wzb.pojo.Employee;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * t_empè¡¨å¯¹åº”æ•°æ®åº“SQLè¯­å¥æ˜ å°„æ¥å£!</span></span><br><span class="line"><span class="comment"> *    æ¥å£åªè§„å®šæ–¹æ³•,å‚æ•°å’Œè¿”å›å€¼!</span></span><br><span class="line"><span class="comment"> *    mapper.xmlä¸­ç¼–å†™å…·ä½“SQLè¯­å¥!</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥æ•°æ®æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> empId  å‘˜å·¥id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å‘˜å·¥å®ä½“å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Employee <span class="title function_">selectEmployee</span><span class="params">(Integer empId)</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰mapper xml</p>
<p>ä½ç½®ï¼š resources&#x2F;mappers&#x2F;EmployeeMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- namespaceç­‰äºmapperæ¥å£ç±»çš„å…¨é™å®šå,è¿™æ ·å®ç°å¯¹åº” --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.wzb.mapper.EmployeeMapper&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- æŸ¥è¯¢ä½¿ç”¨ selectæ ‡ç­¾</span></span><br><span class="line"><span class="comment">            id = æ–¹æ³•å</span></span><br><span class="line"><span class="comment">            resultType = è¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="comment">            æ ‡ç­¾å†…ç¼–å†™SQLè¯­å¥</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.pojo.Employee&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- #&#123;empId&#125;ä»£è¡¨åŠ¨æ€ä¼ å…¥çš„å‚æ•°,å¹¶ä¸”è¿›è¡Œèµ‹å€¼!åé¢è¯¦ç»†è®²è§£ --&gt;</span></span><br><span class="line">        select emp_id empId,emp_name empName, emp_salary empSalary from </span><br><span class="line">           t_emp where emp_id = #&#123;empId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æ–¹æ³•åå’ŒSQLçš„idä¸€è‡´</li>
<li>æ–¹æ³•è¿”å›å€¼å’ŒresultTypeä¸€è‡´</li>
<li>æ–¹æ³•çš„å‚æ•°å’ŒSQLçš„å‚æ•°ä¸€è‡´</li>
<li>æ¥å£çš„å…¨ç±»åå’Œæ˜ å°„é…ç½®æ–‡ä»¶çš„åç§°ç©ºé—´ä¸€è‡´</li>
</ul>
</li>
</ol>
</li>
<li><p>å‡†å¤‡MyBatisé…ç½®æ–‡ä»¶</p>
<p>mybatisæ¡†æ¶é…ç½®æ–‡ä»¶ï¼š æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œæ€§èƒ½é…ç½®ï¼Œmapper.xmlé…ç½®ç­‰ï¼</p>
<p>ä¹ æƒ¯ä¸Šå‘½åä¸º mybatis-config.xmlï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆ Spring ä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">  <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis-example&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Mapperæ³¨å†Œï¼šæŒ‡å®šMybatisæ˜ å°„æ–‡ä»¶çš„å…·ä½“ä½ç½® --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mapperæ ‡ç­¾ï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„Mapperæ˜ å°„æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- resourceå±æ€§ï¼šæŒ‡å®šMapperæ˜ å°„æ–‡ä»¶çš„å®é™…å­˜å‚¨ä½ç½®ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥ç±»è·¯å¾„æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    å¯¹Mavenå·¥ç¨‹çš„ç›®å½•ç»“æ„æ¥è¯´ï¼Œresourcesç›®å½•ä¸‹çš„å†…å®¹ä¼šç›´æ¥æ”¾å…¥ç±»è·¯å¾„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»¥resourcesç›®å½•ä¸ºåŸºå‡† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/EmployeeMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è¿è¡Œå’Œæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * projectName: com.wzb.test</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * description: æµ‹è¯•ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectEmployee</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">        <span class="comment">// â‘ å£°æ˜Mybatiså…¨å±€é…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">mybatisConfigFilePath</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// â‘¡ä»¥è¾“å…¥æµçš„å½¢å¼åŠ è½½Mybatisé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(mybatisConfigFilePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// â‘¢åŸºäºè¯»å–Mybatisé…ç½®æ–‡ä»¶çš„è¾“å…¥æµåˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.ä½¿ç”¨SqlSessionFactoryå¯¹è±¡å¼€å¯ä¸€ä¸ªä¼šè¯</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> sessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.æ ¹æ®EmployeeMapperæ¥å£çš„Classå¯¹è±¡è·å–Mapperæ¥å£ç±»å‹çš„å¯¹è±¡(åŠ¨æ€ä»£ç†æŠ€æœ¯)</span></span><br><span class="line">        <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. è°ƒç”¨ä»£ç†ç±»æ–¹æ³•æ—¢å¯ä»¥è§¦å‘å¯¹åº”çš„SQLè¯­å¥</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeMapper.selectEmployee(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;employee = &quot;</span> + employee);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.å…³é—­SqlSession</span></span><br><span class="line">        session.commit(); <span class="comment">//æäº¤äº‹åŠ¡ [DQLä¸éœ€è¦,å…¶ä»–éœ€è¦]</span></span><br><span class="line">        session.close(); <span class="comment">//å…³é—­ä¼šè¯</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li>
<li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€ã€‚</li>
<li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>SqlSessionå’ŒHttpSessionåŒºåˆ«</p>
<ul>
<li>HttpSessionï¼šå·¥ä½œåœ¨WebæœåŠ¡å™¨ä¸Šï¼Œå±äºè¡¨è¿°å±‚ã€‚<ul>
<li>ä»£è¡¨æµè§ˆå™¨å’ŒWebæœåŠ¡å™¨ä¹‹é—´çš„ä¼šè¯ã€‚</li>
</ul>
</li>
<li>SqlSessionï¼šä¸ä¾èµ–WebæœåŠ¡å™¨ï¼Œå±äºæŒä¹…åŒ–å±‚ã€‚<ul>
<li>ä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚<br><img src="image_EhZwteiZyj.png"></li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•"><a href="#äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•" class="headerlink" title="äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•"></a>äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•</h2><h3 id="1-ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout"><a href="#1-ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout" class="headerlink" title="1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout"></a>1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout</h3><ol>
<li>soutæœ‰ä»€ä¹ˆé—®é¢˜<ol>
<li><p>é—®é¢˜1ï¼šI&#x2F;Oå½±å“æ€§èƒ½</p>
<p>System.outå¯¹è±¡æ˜¯ä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡ï¼Œæ‰€ä»¥æ§åˆ¶å°è¾“å‡ºä¿¡æ¯æœ¬è´¨ä¸Šæ˜¯I&#x2F;Oæ“ä½œã€‚è€ŒI&#x2F;Oæ“ä½œæ˜¯é¡¹ç›®è¿è¡Œè¿‡ç¨‹ä¸­ä¸¤å¤§æ€§èƒ½ç“¶é¢ˆä¹‹ä¸€ã€‚</p>
<p><img src="image_1eSjjIde_q.png"></p>
</li>
<li><p>é—®é¢˜2ï¼šæ— æ³•ç»Ÿä¸€ç®¡ç†</p>
<p>é¡¹ç›®ä¸Šçº¿æ—¶ï¼Œå¸Œæœ›æŠŠæ‰€æœ‰ï¼ˆæˆ–ä¸€éƒ¨åˆ†ï¼‰soutæ‰“å°å…³é—­ï¼Œä½†æ˜¯åªèƒ½æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªæŸ¥æ‰¾ï¼Œè€—è´¹å¼€å‘äººå‘˜çš„æå¤§ç²¾åŠ›ï¼Œå› ä¸ºsoutçš„æ— åº¦ä½¿ç”¨ä¼šä½¿å®ƒåˆ†æ•£åœ¨é¡¹ç›®çš„å„ä¸ªè§’è½ã€‚</p>
</li>
<li><p>é—®é¢˜3ï¼šæ˜¾å¾—ä½ å¾ˆlow</p>
<p>æƒ³çœ‹æŸä¸ªå˜é‡çš„å€¼ï¼Œåªä¼šä½¿ç”¨soutåœ¨æ§åˆ¶å°æ‰“å°å‡ºæ¥ï¼Œä¸ä¼šdebugï¼Œè¿™åªèƒ½è¢«äººé„™è§†ã€‚</p>
</li>
</ol>
</li>
<li>ä½¿ç”¨[æ—¥å¿—æ¡†æ¶]çš„å¥½å¤„<ol>
<li><p>è®¾å®šçº§åˆ«ï¼Œç»Ÿä¸€ç®¡ç†</p>
<p>æ—¥å¿—æ¡†æ¶ä¼šæŒ‰ç…§äº‹ä»¶çš„ä¸¥é‡ç¨‹åº¦æ¥åˆ’åˆ†çº§åˆ«ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>é”™è¯¯ï¼ˆErrorï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œå‡ºé”™ï¼Œæ¯”å¦‚æŠ›å¼‚å¸¸ç­‰æƒ…å†µã€‚</li>
<li>è­¦å‘Šï¼ˆWarningï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æœ‰æ½œåœ¨é£é™©ï¼Œä½†æ­¤æ—¶å¹¶æ²¡æœ‰æŠ¥é”™ã€‚</li>
<li>ä¿¡æ¯ï¼ˆInfoï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å®Œæˆäº†ä¸€ä¸ªå…³é”®åŠ¨ä½œï¼Œéœ€è¦ä»¥ç¨‹åºè¿è¡Œä¿¡æ¯çš„å½¢å¼å‘ŠçŸ¥å¼€å‘è€…ã€‚</li>
<li>è°ƒè¯•ï¼ˆDebugï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ›´åŠ ç»†è‡´çš„ä¿¡æ¯ï¼ŒååŠ©ç¨‹åºå‘˜è°ƒè¯•ç¨‹åºã€‚<blockquote>
<p>ğŸ“ŒTipsï¼šå„ç§ä¸åŒçš„å…·ä½“æ—¥å¿—ç³»ç»Ÿä¼šä½¿ç”¨ä¸åŒçš„æ—¥å¿—çº§åˆ«åç§°ï¼Œä¹Ÿå¯èƒ½æœ‰æ›´å¤šä¸ªçº§åˆ«è®¾å®šã€‚ä½†æ˜¯æ€æƒ³æ˜¯ä¸€è‡´çš„ã€‚<br>é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæŸä¸€ä¸ªæ—¥å¿—çº§åˆ«æ¥æ§åˆ¶ç³»ç»Ÿè¦æ‰“å°çš„å†…å®¹ã€‚æ—¥å¿—æ¡†æ¶ä¼šæ‰“å°<strong>å½“å‰æŒ‡å®šçº§åˆ«</strong>çš„æ—¥å¿—å’Œæ¯”å½“å‰æŒ‡å®šçº§åˆ«<strong>æ›´ä¸¥é‡</strong>çš„çº§åˆ«çš„æ—¥å¿—ã€‚<br>ä¾‹å¦‚åœ¨å¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬æŒ‡å®šdebugçº§åˆ«ï¼Œé¡¹ç›®ä¸Šçº¿ä¿®æ”¹æˆinfoçº§åˆ«ï¼Œé‚£ä¹ˆæ‰€æœ‰debugçº§åˆ«çš„æ—¥å¿—å°±éƒ½ä¸æ‰“å°äº†ï¼Œä¸éœ€è¦åˆ°é¡¹ç›®ä»£ç ä¸­ä¸€ä¸ªä¸€ä¸ªä¿®æ”¹ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li><p>çµæ´»æŒ‡å®šè¾“å‡ºä½ç½®</p>
<p>ä½¿ç”¨æ—¥å¿—æ¡†æ¶ä¸ä¸€å®šæ˜¯æ‰“å°åˆ°æ§åˆ¶å°ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ä¸­æˆ–è€…ä¿å­˜åˆ°æ•°æ®åº“ã€‚è¿™å°±çœ‹å…·ä½“çš„é¡¹ç›®ç»´æŠ¤éœ€æ±‚ã€‚</p>
</li>
<li><p>è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼</p>
<p>æ‰“å°æ—¥å¿—æ•°æ®å¯ä»¥ä½¿ç”¨æ—¥å¿—æ¡†æ¶çš„é»˜è®¤æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶ã€‚</p>
<p><img src="image_1K6lhufTYa.png"></p>
</li>
<li><p>åŸºäºæ—¥å¿—åˆ†æé—®é¢˜</p>
<p>å°†æ¥æˆ‘ä»¬å¼€å‘çš„åº”ç”¨ç³»ç»Ÿä¸­ï¼Œä¸ä»…åŒ…å«Javaä»£ç ï¼Œè¿˜æœ‰å¾ˆå¤šä¸­é—´ä»¶æœåŠ¡å™¨ã€‚ä»»ä½•å­ç³»ç»Ÿå‡ºç°æ•…éšœæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡æ—¥å¿—æ¥å®šä½é—®é¢˜ã€åˆ†ææ•…éšœåŸå› ã€‚ç”šè‡³æ›´å¤æ‚çš„ç³»ç»Ÿè¿˜ä¼šä¸“é—¨å¼€å‘æ—¥å¿—å­ç³»ç»Ÿï¼Œåœ¨ä¸»ç³»ç»Ÿå‡ºç°é—®é¢˜æ—¶æŠ“å–æ—¥å¿—æ•°æ®ä¾›ç»´æŠ¤äººå‘˜å‚è€ƒã€‚</p>
<p>è€Œæ—¥å¿—æ•°æ®å¿…é¡»è¦æœ‰ç¡®å®šæ ¼å¼æ‰ä¾¿äºæ ¼å¼åŒ–å’ŒæŠ“å–ï¼Œè¿™è‚¯å®šä¸æ˜¯éšæ„å†™soutå°±èƒ½å®ç°çš„ã€‚</p>
</li>
</ol>
</li>
</ol>
<h3 id="2-Javaæ—¥å¿—ä½“ç³»æ¼”å˜"><a href="#2-Javaæ—¥å¿—ä½“ç³»æ¼”å˜" class="headerlink" title="2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜"></a>2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜</h3><p>1996å¹´æ—©æœŸï¼Œæ¬§æ´²å®‰å…¨ç”µå­å¸‚åœºé¡¹ç›®ç»„å†³å®šç¼–å†™å®ƒè‡ªå·±çš„ç¨‹åºè·Ÿè¸ªAPI(Tracing API)ã€‚ç»è¿‡ä¸æ–­çš„å®Œå–„ï¼Œè¿™ä¸ªAPIç»ˆäºæˆä¸ºä¸€ä¸ªååˆ†å—æ¬¢è¿çš„Javaæ—¥å¿—è½¯ä»¶åŒ…ï¼Œå³Log4jï¼ˆç”±Cekiåˆ›å»ºï¼‰ã€‚åæ¥Log4jæˆä¸ºApacheåŸºé‡‘ä¼šé¡¹ç›®ä¸­çš„ä¸€å‘˜,Cekiä¹ŸåŠ å…¥Apacheç»„ç»‡ã€‚â€‹ åæ¥Log4jè¿‘ä¹æˆäº†Javaç¤¾åŒºçš„æ—¥å¿—æ ‡å‡†ã€‚æ®è¯´ApacheåŸºé‡‘ä¼šè¿˜æ›¾ç»å»ºè®®Sunå¼•å…¥Log4jåˆ°javaçš„æ ‡å‡†åº“ä¸­ï¼Œä½†Sunæ‹’ç»äº†ã€‚â€‹ 2002å¹´Java1.4å‘å¸ƒï¼ŒSunæ¨å‡ºäº†è‡ªå·±çš„æ—¥å¿—åº“JUL(Java Util Logging),å…¶å®ç°åŸºæœ¬æ¨¡ä»¿äº†Log4jçš„å®ç°ã€‚åœ¨JULå‡ºæ¥ä»¥å‰ï¼ŒLog4jå°±å·²ç»æˆä¸ºä¸€é¡¹æˆç†Ÿçš„æŠ€æœ¯ï¼Œä½¿å¾—Log4jåœ¨é€‰æ‹©ä¸Šå æ®äº†ä¸€å®šçš„ä¼˜åŠ¿ã€‚â€‹ æ¥ç€ï¼ŒApacheæ¨å‡ºäº†Jakarta Commons Loggingé—¨é¢ï¼Œçœ‹æ¥Apacheæƒ³ç»Ÿä¸€æ—¥å¿—æ±Ÿæ¹–äº†ï¼ŒJCLåªæ˜¯å®šä¹‰äº†ä¸€å¥—æ—¥å¿—æ¥å£(å…¶å†…éƒ¨ä¹Ÿæä¾›ä¸€ä¸ªSimple Logçš„ç®€å•å®ç°)ï¼Œæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ—¥å¿—ç»„ä»¶çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½ åº”ç”¨ä»£ç é‡Œï¼Œåªéœ€è°ƒç”¨Commons Loggingçš„æ¥å£ï¼Œåº•å±‚å®ç°å¯ä»¥æ˜¯Log4jï¼Œä¹Ÿå¯ä»¥æ˜¯JUL(Javaå®ç°)ã€‚â€‹ åæ¥(2006å¹´)ï¼ŒCekiä¸é€‚åº”Apacheçš„å·¥ä½œæ–¹å¼ï¼Œç¦»å¼€äº†Apacheã€‚ç„¶åå…ˆååˆ›å»ºäº†Slf4j(æ—¥å¿—é—¨é¢æ¥å£ï¼Œç±»ä¼¼äºCommons Logging)å’ŒLogback(Slf4jçš„å®ç°)ä¸¤ä¸ªé¡¹ç›®ï¼Œå¹¶å›ç‘å…¸åˆ›å»ºäº†QOSå…¬å¸ï¼ŒQOSå®˜ç½‘ä¸Šæ˜¯è¿™æ ·æè¿°Logbackçš„ï¼šThe Genericï¼ŒReliable Fast&amp;Flexible Logging Framework(ä¸€ä¸ªé€šç”¨ï¼Œå¯é ï¼Œå¿«é€Ÿä¸”çµæ´»çš„æ—¥å¿—æ¡†æ¶)ã€‚</p>
<p>é—¨é¢ï¼šç±»ä¼¼äºæ ‡å‡†å±‚ã€æ¥å£å±‚</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>JCLï¼ˆJakarta Commons Loggingï¼‰</td>
<td>é™ˆæ—§</td>
</tr>
<tr>
<td>SLF4Jï¼ˆSimple Logging Facade for Javaï¼‰</td>
<td>é€‚åˆï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td>
</tr>
<tr>
<td>jboss-logging</td>
<td>ç‰¹æ®Šä¸“ä¸šé¢†åŸŸä½¿ç”¨</td>
</tr>
</tbody></table>
<p>å®ç°</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>log4j</td>
<td>æœ€åˆç‰ˆï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td>
</tr>
<tr>
<td>JULï¼ˆjava.util.loggingï¼‰</td>
<td>JDKè‡ªå¸¦</td>
</tr>
<tr>
<td>log4j2</td>
<td>Apacheæ”¶è´­log4jåå…¨é¢é‡æ„ï¼Œå†…éƒ¨å®ç°å’Œlog4jå®Œå…¨ä¸åŒ</td>
</tr>
<tr>
<td>logback</td>
<td>ä¼˜é›…ã€å¼ºå¤§ï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td>
</tr>
</tbody></table>
<p><strong>æœ€ä½³æ‹æ¡£</strong></p>
<ul>
<li>é—¨é¢ï¼šSLF4J</li>
<li>å®ç°ï¼šlogback</li>
</ul>
<h3 id="3-æœ€ä½³æ‹æ¡£ç”¨æ³•"><a href="#3-æœ€ä½³æ‹æ¡£ç”¨æ³•" class="headerlink" title="3. æœ€ä½³æ‹æ¡£ç”¨æ³•"></a>3. æœ€ä½³æ‹æ¡£ç”¨æ³•</h3><ol>
<li><p>ä¾èµ–å¯¼å…¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- æ—¥å¿— ï¼Œ ä¼šè‡ªåŠ¨ä¼ é€’slf4jé—¨é¢--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»£ç æµ‹è¯•</p>
<p>ä»£ç å›¾è§£</p>
<p><img src="image_HasKvwKkFt.png"></p>
<p>æµ‹è¯•ç»“æœ</p>
<p><img src="image_rM7o5_JxMx.png"></p>
</li>
<li><p>å¼•å…¥é…ç½®</p>
<p>Logbackè¦æ±‚é…ç½®æ–‡ä»¶åç§°å¿…é¡»æ˜¯logback.xmlï¼Œå­˜æ”¾è·¯å¾„åœ¨main&#x2F;resourcesç›®å½•ä¸‹ã€‚</p>
<p><img src="image_1yTJ2l_3CU.png"></p>
<p>é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®è¾“å‡ºæ ¼å¼ã€è¾“å‡ºçº§åˆ«ã€è¾“å‡ºä½ç½®ç­‰ï¼</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½®ï¼ŒConsoleAppenderè¡¨ç¤ºè¾“å‡ºåˆ°æ§åˆ¶å° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger] [%msg]%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šTRACEã€DEBUGã€INFOã€WARNã€ERROR --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ«ï¼Œå¯ä»¥æ˜¯åŒ…åæˆ–å…¨ç±»åã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.wzb.mybatis&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>mybatisæ—¥å¿—è¾“å‡ºé…ç½®</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨mybatisçš„é…ç½®æ–‡ä»¶ä½¿ç”¨<strong>settingsæ ‡ç­¾</strong>è®¾ç½®ï¼Œè¾“å‡ºè¿è¡Œè¿‡ç¨‹SQLæ—¥å¿—ï¼</p>
<p>æ—¥å¿—é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- SLF4J é€‰æ‹©slf4jè¾“å‡ºï¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;SLF4J&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-Lombokæ’ä»¶çš„ä½¿ç”¨"><a href="#4-Lombokæ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="4. Lombokæ’ä»¶çš„ä½¿ç”¨"></a>4. Lombokæ’ä»¶çš„ä½¿ç”¨</h3><h4 id="4-1-Lombokç®€ä»‹"><a href="#4-1-Lombokç®€ä»‹" class="headerlink" title="4.1 Lombokç®€ä»‹"></a>4.1 Lombokç®€ä»‹</h4><p>ä¼ ç»Ÿå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer empId;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String empName;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Double empSalary;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">()</span> &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getEmpId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> empId;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmpId</span><span class="params">(Integer empId)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.empId = empId;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmpName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> empName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmpName</span><span class="params">(String empName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.empName = empName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Double <span class="title function_">getEmpSalary</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> empSalary;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmpSalary</span><span class="params">(Double empSalary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.empSalary = empSalary;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;empId=&quot;</span> + empId +</span><br><span class="line">                <span class="string">&quot;, empName=&#x27;&quot;</span> + empName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, empSalary=&quot;</span> + empSalary +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(Integer empId, String empName, Double empSalary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.empId = empId;</span><br><span class="line">        <span class="built_in">this</span>.empName = empName;</span><br><span class="line">        <span class="built_in">this</span>.empSalary = empSalary;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Lombok</p>
<p>æ—¢ç„¶getXxx()ã€setXxx()æ–¹æ³•ã€toString()æ–¹æ³•ã€æ„é€ å™¨éƒ½æ˜¯æŒ‰ç…§å›ºå®šæ ¼å¼ç”Ÿæˆçš„ï¼Œé‚£èƒ½å¦ç”±ç¨‹åºè‡ªåŠ¨ç”Ÿæˆå‘¢ï¼Ÿ</p>
<p><img src="image_etk1A3OTpm.png"></p>
<p>ä½¿ç”¨Lombokæ³¨è§£å°±å¯ä»¥çœç•¥ç”ŸæˆgetXxx()ã€setXxx()æ–¹æ³•ã€toString()æ–¹æ³•ã€æ„é€ å™¨ç­‰å›ºå®šæ ¼å¼ä»£ç çš„ç¹çæ“ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚åŒ…æ‹¬Loggeræ—¥å¿—å¯¹è±¡ã€‚</p>
<p>LombokåŸç†</p>
<p>Lombokæ˜¯å°†è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ç»‡å…¥å­—èŠ‚ç æ–‡ä»¶ä¸­ï¼Œä»è€Œå®ç°ï¼šæºä»£ç æ²¡æœ‰ï¼Œä½†æ˜¯å­—èŠ‚ç æ–‡ä»¶æœ‰â€”â€”æ¯•ç«Ÿæˆ‘ä»¬æœ€ç»ˆè¿è¡Œçš„æ˜¯å­—èŠ‚ç æ–‡ä»¶ï¼Œåªè¦å­—èŠ‚ç æ–‡ä»¶ä¸­æœ‰å³å¯ã€‚è€Œè¿™ä¸ªè¿‡ç¨‹å› ä¸ºè¦å‚ä¸æºæ–‡ä»¶ç¼–è¯‘ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…IDEAæ’ä»¶ã€‚</p>
<h4 id="4-2-Lombokå®‰è£…"><a href="#4-2-Lombokå®‰è£…" class="headerlink" title="4.2 Lombokå®‰è£…"></a>4.2 Lombokå®‰è£…</h4><p><img src="image_CCXiQR1OtY.png"></p>
<p><img src="image_KSrGd0biVQ.png"></p>
<p><img src="image_PoEh-9GVrR.png"></p>
<h4 id="4-3-Lombokä½¿ç”¨æ³¨è§£"><a href="#4-3-Lombokä½¿ç”¨æ³¨è§£" class="headerlink" title="4.3 Lombokä½¿ç”¨æ³¨è§£"></a>4.3 Lombokä½¿ç”¨æ³¨è§£</h4><p>åŠ å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨è§£åŠŸèƒ½</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>æ³¨è§£</td>
<td>ä½œç”¨</td>
</tr>
<tr>
<td>@Data</td>
<td>ç”ŸæˆgetXxx()æ–¹æ³•ã€setXxx()æ–¹æ³•ã€toString()ã€equals()ã€canEqual()ã€hashCode()æ–¹æ³•</td>
</tr>
<tr>
<td>@AllArgsConstructor</td>
<td>ç”Ÿæˆå…¨å‚æ„é€ å™¨</td>
</tr>
<tr>
<td>@NoArgsConstructor</td>
<td>ç”Ÿæˆæ— å‚æ„é€ å™¨</td>
</tr>
<tr>
<td>@Slf4j</td>
<td>ç”Ÿæˆæ—¥å¿—å¯¹è±¡</td>
</tr>
<tr>
<td>@Getter</td>
<td>ç”ŸæˆgetXxx()æ–¹æ³•</td>
</tr>
<tr>
<td>@Setter</td>
<td>ç”ŸæˆsetXxx()æ–¹æ³•</td>
</tr>
<tr>
<td>@ToString</td>
<td>ç”ŸæˆtoString()æ–¹æ³•</td>
</tr>
</tbody></table>
<h2 id="ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨"><a href="#ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨" class="headerlink" title="ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨"></a>ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨</h2><h3 id="1-å‘SQLè¯­å¥ä¼ å‚"><a href="#1-å‘SQLè¯­å¥ä¼ å‚" class="headerlink" title="1. å‘SQLè¯­å¥ä¼ å‚"></a>1. å‘SQLè¯­å¥ä¼ å‚</h3><h4 id="1-2-å½¢å¼"><a href="#1-2-å½¢å¼" class="headerlink" title="1.2 #{}å½¢å¼"></a>1.2 <strong>#{}å½¢å¼</strong></h4><p>Mybatisä¼šå°†SQLè¯­å¥ä¸­çš„#{}è½¬æ¢ä¸ºé—®å·å ä½ç¬¦ã€‚</p>
<p><img src="image_8RlmGCLaBQ.png"></p>
<h4 id="1-3-å½¢å¼"><a href="#1-3-å½¢å¼" class="headerlink" title="1.3 ${}å½¢å¼"></a>1.3 <strong>${}å½¢å¼</strong></h4><p>${}å½¢å¼ä¼ å‚ï¼Œåº•å±‚Mybatisåšçš„æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œã€‚</p>
<p><img src="image__ojXNgTyaD.png"></p>
<p>é€šå¸¸ä¸ä¼šé‡‡ç”¨${}çš„æ–¹å¼ä¼ å€¼ã€‚ä¸€ä¸ªç‰¹å®šçš„é€‚ç”¨åœºæ™¯æ˜¯ï¼šé€šè¿‡Javaç¨‹åºåŠ¨æ€ç”Ÿæˆæ•°æ®åº“è¡¨ï¼Œè¡¨åéƒ¨åˆ†éœ€è¦Javaç¨‹åºé€šè¿‡å‚æ•°ä¼ å…¥ï¼›è€ŒJDBCå¯¹äºè¡¨åéƒ¨åˆ†æ˜¯ä¸èƒ½ä½¿ç”¨é—®å·å ä½ç¬¦çš„ï¼Œæ­¤æ—¶åªèƒ½ä½¿ç”¨</p>
<p>ç»“è®ºï¼šå®é™…å¼€å‘ä¸­ï¼Œèƒ½ç”¨#{}å®ç°çš„ï¼Œè‚¯å®šä¸ç”¨${}ã€‚</p>
<p>ç‰¹æ®Šæƒ…å†µï¼š åŠ¨æ€çš„ä¸æ˜¯å€¼ï¼Œæ˜¯åˆ—åæˆ–è€…å…³é”®å­—ï¼Œéœ€è¦ä½¿ç”¨${}æ‹¼æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ³¨è§£æ–¹å¼ä¼ å…¥å‚æ•°ï¼ï¼</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from user where $&#123;column&#125; = #&#123;value&#125;&quot;)</span></span><br><span class="line">User <span class="title function_">findByColumn</span><span class="params">(<span class="meta">@Param(&quot;column&quot;)</span> String column, </span></span><br><span class="line"><span class="params">                                <span class="meta">@Param(&quot;value&quot;)</span> String value)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-æ•°æ®è¾“å…¥"><a href="#2-æ•°æ®è¾“å…¥" class="headerlink" title="2. æ•°æ®è¾“å…¥"></a>2. æ•°æ®è¾“å…¥</h3><h4 id="2-1-Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬"><a href="#2-1-Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬" class="headerlink" title="2.1 Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬"></a>2.1 <strong>Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬</strong></h4><p>MyBatis æ˜¯ä¸€ä¸ª ORM æ¡†æ¶ï¼Œæ ¸å¿ƒå·¥ä½œæ˜¯åš Javaå¯¹è±¡ å’Œ æ•°æ®åº“æ•°æ® ä¹‹é—´çš„æ˜ å°„å’Œè½¬æ¢ã€‚å®ƒé€šè¿‡é…ç½®å’Œæ˜ å°„ï¼Œå°† JDBC çš„å¤æ‚æ“ä½œå°è£…èµ·æ¥ï¼Œè®©ä½ èƒ½åƒæ“ä½œå¯¹è±¡ä¸€æ ·æ“ä½œæ•°æ®åº“ã€‚</p>
<h4 id="2-2-æ¦‚å¿µè¯´æ˜"><a href="#2-2-æ¦‚å¿µè¯´æ˜" class="headerlink" title="2.2 æ¦‚å¿µè¯´æ˜"></a>2.2 <strong>æ¦‚å¿µè¯´æ˜</strong></h4><p>è¿™é‡Œæ•°æ®è¾“å…¥å…·ä½“æ˜¯æŒ‡ä¸Šå±‚æ–¹æ³•ï¼ˆä¾‹å¦‚Serviceæ–¹æ³•ï¼‰è°ƒç”¨Mapperæ¥å£æ—¶ï¼Œæ•°æ®ä¼ å…¥çš„å½¢å¼ã€‚</p>
<ul>
<li>ç®€å•ç±»å‹ï¼šåªåŒ…å«ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šintã€byteã€shortã€doubleã€â€¦â€¦</li>
<li>åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹ï¼šIntegerã€Characterã€Doubleã€â€¦â€¦</li>
<li>å­—ç¬¦ä¸²ç±»å‹ï¼šString</li>
</ul>
</li>
<li>å¤æ‚ç±»å‹ï¼šåŒ…å«å¤šä¸ªå€¼çš„æ•°æ®ç±»å‹<ul>
<li>å®ä½“ç±»ç±»å‹ï¼šEmployeeã€Departmentã€â€¦â€¦</li>
<li>é›†åˆç±»å‹ï¼šListã€Setã€Mapã€â€¦â€¦</li>
<li>æ•°ç»„ç±»å‹ï¼šint[]ã€String[]ã€â€¦â€¦</li>
<li>å¤åˆç±»å‹ï¼šList&lt;Employee&gt;ã€å®ä½“ç±»ä¸­åŒ…å«é›†åˆâ€¦â€¦</li>
</ul>
</li>
</ul>
<h4 id="2-3-å•ä¸ªç®€å•ç±»å‹å‚æ•°"><a href="#2-3-å•ä¸ªç®€å•ç±»å‹å‚æ•°" class="headerlink" title="2.3 å•ä¸ªç®€å•ç±»å‹å‚æ•°"></a>2.3 <strong>å•ä¸ªç®€å•ç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Employee <span class="title function_">selectEmployee</span><span class="params">(Integer empId)</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å•ä¸ªç®€å•ç±»å‹å‚æ•°ï¼Œåœ¨#{}ä¸­å¯ä»¥éšæ„å‘½åï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ã€‚é€šå¸¸è¿˜æ˜¯ä½¿ç”¨å’Œæ¥å£æ–¹æ³•å‚æ•°åŒåã€‚</p>
</blockquote>
<h4 id="2-4-å®ä½“ç±»ç±»å‹å‚æ•°"><a href="#2-4-å®ä½“ç±»ç±»å‹å‚æ•°" class="headerlink" title="2.4 å®ä½“ç±»ç±»å‹å‚æ•°"></a>2.4 <strong>å®ä½“ç±»ç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">insertEmployee</span><span class="params">(Employee employee)</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertEmployee&quot;</span>&gt;</span></span><br><span class="line">  insert into t_emp(emp_name,emp_salary) values(#&#123;empName&#125;,#&#123;empSalary&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”å…³ç³»</p>
<p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img006.f9958c52.png"></p>
<p>ç»“è®º</p>
<p>Mybatisä¼šæ ¹æ®#{}ä¸­ä¼ å…¥çš„æ•°æ®ï¼ŒåŠ å·¥æˆgetXxx()æ–¹æ³•ï¼Œé€šè¿‡åå°„åœ¨å®ä½“ç±»å¯¹è±¡ä¸­è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä»è€Œè·å–åˆ°å¯¹åº”çš„æ•°æ®ã€‚å¡«å……åˆ°#{}è§£æåçš„é—®å·å ä½ç¬¦è¿™ä¸ªä½ç½®ã€‚</p>
<h4 id="2-5-é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®"><a href="#2-5-é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®" class="headerlink" title="2.5 é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®"></a>2.5 <strong>é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®</strong></h4><p>é›¶æ•£çš„å¤šä¸ªç®€å•ç±»å‹å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†ï¼Œé‚£ä¹ˆMybatisæ— æ³•è¯†åˆ«è‡ªå®šä¹‰åç§°ï¼š</p>
<p><img src="image_eE-zzn7oRy.png"></p>
<p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">updateEmployee</span><span class="params">(<span class="meta">@Param(&quot;empId&quot;)</span> Integer empId,<span class="meta">@Param(&quot;empSalary&quot;)</span> Double empSalary)</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployee&quot;</span>&gt;</span></span><br><span class="line">  update t_emp set emp_salary=#&#123;empSalary&#125; where emp_id=#&#123;empId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”å…³ç³»</p>
<p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img007.976da128.png"></p>
<h4 id="2-6-Mapç±»å‹å‚æ•°"><a href="#2-6-Mapç±»å‹å‚æ•°" class="headerlink" title="2.6 Mapç±»å‹å‚æ•°"></a>2.6 <strong>Mapç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">updateEmployeeByMap</span><span class="params">(Map&lt;String, Object&gt; paramMap)</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployeeByMap&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  update t_emp set emp_salary=#&#123;empSalaryKey&#125; where emp_id=#&#123;empIdKey&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> SqlSession session;</span><br><span class="line"><span class="comment">//junit5ä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span></span><br><span class="line"><span class="meta">@BeforeEach</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    session = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>()</span><br><span class="line">            .build(</span><br><span class="line">                    Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>))</span><br><span class="line">            .openSession();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateEmpNameByMap</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">EmployeeMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line">  Map&lt;String, Object&gt; paramMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  paramMap.put(<span class="string">&quot;empSalaryKey&quot;</span>, <span class="number">999.99</span>);</span><br><span class="line">  paramMap.put(<span class="string">&quot;empIdKey&quot;</span>, <span class="number">5</span>);</span><br><span class="line">  <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> mapper.updateEmployeeByMap(paramMap);</span><br><span class="line">  log.info(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//junit5ä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span></span><br><span class="line"><span class="meta">@AfterEach</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">    session.commit();</span><br><span class="line">    session.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>å¯¹åº”å…³ç³»</strong></p>
<p>#{}ä¸­å†™Mapä¸­çš„key</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong></p>
<p>æœ‰å¾ˆå¤šé›¶æ•£çš„å‚æ•°éœ€è¦ä¼ é€’ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åº”çš„å®ä½“ç±»ç±»å‹å¯ä»¥ä½¿ç”¨ã€‚ä½¿ç”¨@Paramæ³¨è§£ä¸€ä¸ªä¸€ä¸ªä¼ å…¥åˆå¤ªéº»çƒ¦äº†ã€‚æ‰€ä»¥éƒ½å°è£…åˆ°Mapä¸­ã€‚</p>
<h3 id="3-æ•°æ®è¾“å‡º"><a href="#3-æ•°æ®è¾“å‡º" class="headerlink" title="3. æ•°æ®è¾“å‡º"></a>3. æ•°æ®è¾“å‡º</h3><h4 id="3-1-è¾“å‡ºæ¦‚è¿°"><a href="#3-1-è¾“å‡ºæ¦‚è¿°" class="headerlink" title="3.1 è¾“å‡ºæ¦‚è¿°"></a>3.1 è¾“å‡ºæ¦‚è¿°</h4><p>æ•°æ®è¾“å‡ºæ€»ä½“ä¸Šæœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>å¢åˆ æ”¹æ“ä½œè¿”å›çš„å—å½±å“è¡Œæ•°ï¼šç›´æ¥ä½¿ç”¨ int æˆ– long ç±»å‹æ¥æ”¶å³å¯</li>
<li>æŸ¥è¯¢æ“ä½œçš„æŸ¥è¯¢ç»“æœ</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦åšçš„æ˜¯ï¼ŒæŒ‡å®šæŸ¥è¯¢çš„è¾“å‡ºæ•°æ®ç±»å‹å³å¯ï¼</p>
<p>å¹¶ä¸”æ’å…¥åœºæ™¯ä¸‹ï¼Œå®ç°ä¸»é”®æ•°æ®å›æ˜¾ç¤ºï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span> ;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">psmt</span> <span class="operator">=</span> <span class="literal">null</span> ;</span><br><span class="line">        <span class="comment">// Statement  PreparedStatement  CallableStatement</span></span><br><span class="line">        psmt = conn.prepareStatement(<span class="string">&quot;sql&quot;</span> , Statement.RETURN_GENERATED_KEYS);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> psmt.executeUpdate(); <span class="comment">//è¿”å›çš„æ˜¯å½±å“è¡Œæ•°</span></span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯insertï¼Œè€Œä¸”æ•°æ®åº“æ˜¯è‡ªå¢åˆ—ã€‚å¦‚ä½•è·å–è‡ªå¢åˆ—çš„å€¼å‘¢ï¼Ÿ</span></span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> psmt.getGeneratedKeys();</span><br><span class="line">        <span class="type">long</span> <span class="variable">id</span> <span class="operator">=</span> rs.getLong(<span class="number">1</span>); <span class="comment">//è·å–è‡ªå¢åˆ—çš„å€¼</span></span><br><span class="line">        <span class="comment">//ä¸ºä»€ä¹ˆéœ€è¦è·å–è‡ªå¢åˆ—çš„å€¼ï¼Ÿ</span></span><br><span class="line">        <span class="comment">//åœºæ™¯ï¼š ç¡®è®¤è®¢å•è¿™ä¸ªåŠ¨ä½œä¸­ï¼Œè‡³å°‘åŒ…å«ä¸¤å¤§æ“ä½œï¼š1) å‘è®¢å•è¡¨insertä¸€æ¡è®°å½•    2) å‘è®¢å•è¯¦æƒ…è¡¨æ·»åŠ næ¡è®°å½•</span></span><br><span class="line">        <span class="comment">// è®¢å•è¯¦æƒ…è¡¨ä¸­æœ‰ä¸€åˆ—ï¼šè®¢å•idå·ï¼Œæ˜¯ä¸€ä¸ªå¤–é”®ï¼ŒæŒ‡å‘è®¢å•è¡¨çš„id</span></span><br><span class="line">        <span class="comment">// å› æ­¤ç¬¬äºŒæ­¥æ“ä½œæ—¶ï¼Œå¿…é¡»çŸ¥é“ç¬¬ä¸€æ­¥è¿”å›çš„è‡ªå¢åˆ—çš„å€¼</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        è®¢å•è¡¨ï¼š</span></span><br><span class="line"><span class="comment">        id    userid    money   orderDate</span></span><br><span class="line"><span class="comment">        1     u001      99      2023-10-07 13:50:30</span></span><br><span class="line"><span class="comment">        2     u002      15      2023-10-07 13:51:35</span></span><br><span class="line"><span class="comment">        è®¢å•è¯¦æƒ…è¡¨ï¼š</span></span><br><span class="line"><span class="comment">        id    productId   price    productCount     orderId</span></span><br><span class="line"><span class="comment">        1     p001        9        2                1</span></span><br><span class="line"><span class="comment">        2     p002        5        1                1</span></span><br><span class="line"><span class="comment">        3     p006        8        5                1</span></span><br><span class="line"><span class="comment">         */</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-å•ä¸ªç®€å•ç±»å‹"><a href="#3-2-å•ä¸ªç®€å•ç±»å‹" class="headerlink" title="3.2 å•ä¸ªç®€å•ç±»å‹"></a>3.2 å•ä¸ªç®€å•ç±»å‹</h4><p>Mapperæ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">selectEmpCount</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmpCount&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">  select count(*) from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Mybatis å†…éƒ¨ç»™å¸¸ç”¨çš„æ•°æ®ç±»å‹è®¾å®šäº†å¾ˆå¤šåˆ«åã€‚ ä»¥ int ç±»å‹ä¸ºä¾‹ï¼Œå¯ä»¥å†™çš„åç§°æœ‰ï¼šintã€integerã€Integerã€java.lang.Integerã€Intã€INTã€INTEGER ç­‰ç­‰ã€‚</p>
</blockquote>
<p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEmpCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> employeeMapper.selectEmpCount();</span><br><span class="line"></span><br><span class="line">  log.info(<span class="string">&quot;count = &quot;</span> + count);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»†èŠ‚è§£é‡Šï¼š</strong></p>
<p>selectæ ‡ç­¾ï¼Œé€šè¿‡resultTypeæŒ‡å®šæŸ¥è¯¢è¿”å›å€¼ç±»å‹ï¼</p>
<p>resultType &#x3D; â€œå…¨é™å®šç¬¦ ï½œ åˆ«å ï½œ å¦‚æœæ˜¯è¿”å›é›†åˆç±»å‹ï¼Œå†™èŒƒå‹ç±»å‹å³å¯â€</p>
<p>åˆ«åé—®é¢˜ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases" title="https:&#x2F;&#x2F;mybatis.org&#x2F;mybatis-3&#x2F;zh&#x2F;configuration.html#typeAliases">https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases</a></p>
<p>ç±»å‹åˆ«åå¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ã€‚ å®ƒä»…ç”¨äº XML é…ç½®ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Author&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Author&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Blog&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Blog&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“è¿™æ ·é…ç½®æ—¶ï¼Œ<code>Blog</code> å¯ä»¥ç”¨åœ¨ä»»ä½•ä½¿ç”¨ <code>domain.blog.Blog</code> çš„åœ°æ–¹ã€‚</p>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span> <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;domain.blog&quot;</span>/&gt;</span> <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€ä¸ªåœ¨åŒ… <code>domain.blog</code> ä¸­çš„ Java Beanï¼Œåœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«åã€‚ æ¯”å¦‚ <code>domain.blog.Author</code> çš„åˆ«åä¸º <code>author</code>ï¼›è‹¥æœ‰æ³¨è§£ï¼Œåˆ™åˆ«åä¸ºå…¶æ³¨è§£å€¼ã€‚è§ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Alias(&quot;author&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Author</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯Mybatisä¸ºå¸¸è§çš„ Java ç±»å‹å†…å»ºçš„ç±»å‹åˆ«åã€‚å®ƒä»¬éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæ³¨æ„ï¼Œä¸ºäº†åº”å¯¹åŸå§‹ç±»å‹çš„å‘½åé‡å¤ï¼Œé‡‡å–äº†ç‰¹æ®Šçš„å‘½åé£æ ¼ã€‚</p>
<table>
<thead>
<tr>
<th>åˆ«å</th>
<th>æ˜ å°„çš„ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>_byte</td>
<td>byte</td>
</tr>
<tr>
<td>_char (since 3.5.10)</td>
<td>char</td>
</tr>
<tr>
<td>_character (since 3.5.10)</td>
<td>char</td>
</tr>
<tr>
<td>_long</td>
<td>long</td>
</tr>
<tr>
<td>_short</td>
<td>short</td>
</tr>
<tr>
<td>_int</td>
<td>int</td>
</tr>
<tr>
<td>_integer</td>
<td>int</td>
</tr>
<tr>
<td>_double</td>
<td>double</td>
</tr>
<tr>
<td>_float</td>
<td>float</td>
</tr>
<tr>
<td>_boolean</td>
<td>boolean</td>
</tr>
<tr>
<td>string</td>
<td>String</td>
</tr>
<tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>char (since 3.5.10)</td>
<td>Character</td>
</tr>
<tr>
<td>character (since 3.5.10)</td>
<td>Character</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>integer</td>
<td>Integer</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
<tr>
<td>date</td>
<td>Date</td>
</tr>
<tr>
<td>decimal</td>
<td>BigDecimal</td>
</tr>
<tr>
<td>bigdecimal</td>
<td>BigDecimal</td>
</tr>
<tr>
<td>biginteger</td>
<td>BigInteger</td>
</tr>
<tr>
<td>object</td>
<td>Object</td>
</tr>
<tr>
<td>object[]</td>
<td>Object[]</td>
</tr>
<tr>
<td>map</td>
<td>Map</td>
</tr>
<tr>
<td>hashmap</td>
<td>HashMap</td>
</tr>
<tr>
<td>list</td>
<td>List</td>
</tr>
<tr>
<td>arraylist</td>
<td>ArrayList</td>
</tr>
<tr>
<td>collection</td>
<td>Collection</td>
</tr>
</tbody></table>
<h4 id="3-3-è¿”å›å®ä½“ç±»å¯¹è±¡"><a href="#3-3-è¿”å›å®ä½“ç±»å¯¹è±¡" class="headerlink" title="3.3 è¿”å›å®ä½“ç±»å¯¹è±¡"></a>3.3 è¿”å›å®ä½“ç±»å¯¹è±¡</h4><p>Mapperæ¥å£çš„æŠ½è±¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Employee <span class="title function_">selectEmployee</span><span class="params">(Integer empId)</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¼–å†™å…·ä½“çš„SQLè¯­å¥ï¼Œä½¿ç”¨idå±æ€§å”¯ä¸€çš„æ ‡è®°ä¸€æ¡SQLè¯­å¥ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- resultTypeå±æ€§ï¼šæŒ‡å®šå°è£…æŸ¥è¯¢ç»“æœçš„Javaå®ä½“ç±»çš„å…¨ç±»å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Mybatisè´Ÿè´£æŠŠSQLè¯­å¥ä¸­çš„#&#123;&#125;éƒ¨åˆ†æ›¿æ¢æˆâ€œ?â€å ä½ç¬¦ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç»™æ¯ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œè®©åˆ«åå’ŒJavaå®ä½“ç±»ä¸­å±æ€§åä¸€è‡´ --&gt;</span></span><br><span class="line">  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#&#123;maomi&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç»™æ•°æ®åº“è¡¨å­—æ®µåŠ åˆ«åï¼Œè®©æŸ¥è¯¢ç»“æœçš„æ¯ä¸€åˆ—éƒ½å’ŒJavaå®ä½“ç±»ä¸­å±æ€§å¯¹åº”èµ·æ¥ã€‚</p>
<p>å¢åŠ å…¨å±€é…ç½®è‡ªåŠ¨è¯†åˆ«å¯¹åº”å…³ç³»</p>
<p>åœ¨ Mybatis å…¨å±€é…ç½®æ–‡ä»¶ä¸­ï¼Œåšäº†ä¸‹é¢çš„é…ç½®ï¼Œselectè¯­å¥ä¸­å¯ä»¥ä¸ç»™å­—æ®µè®¾ç½®åˆ«å</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨å…¨å±€èŒƒå›´å†…å¯¹Mybatisè¿›è¡Œé…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å…·ä½“é…ç½® --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä»org.apache.ibatis.session.Configurationç±»ä¸­å¯ä»¥æŸ¥çœ‹èƒ½ä½¿ç”¨çš„é…ç½®é¡¹ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å°†mapUnderscoreToCamelCaseå±æ€§é…ç½®ä¸ºtrueï¼Œè¡¨ç¤ºå¼€å¯è‡ªåŠ¨æ˜ å°„é©¼å³°å¼å‘½åè§„åˆ™ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è§„åˆ™è¦æ±‚æ•°æ®åº“è¡¨å­—æ®µå‘½åæ–¹å¼ï¼šå•è¯_å•è¯ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è§„åˆ™è¦æ±‚Javaå®ä½“ç±»å±æ€§åå‘½åæ–¹å¼ï¼šé¦–å­—æ¯å°å†™çš„é©¼å³°å¼å‘½å --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-4-è¿”å›Mapç±»å‹"><a href="#3-4-è¿”å›Mapç±»å‹" class="headerlink" title="3.4 è¿”å›Mapç±»å‹"></a>3.4 è¿”å›Mapç±»å‹</h4><p>é€‚ç”¨äºSQLæŸ¥è¯¢è¿”å›çš„å„ä¸ªå­—æ®µç»¼åˆèµ·æ¥å¹¶ä¸å’Œä»»ä½•ä¸€ä¸ªç°æœ‰çš„å®ä½“ç±»å¯¹åº”ï¼Œæ²¡æ³•å°è£…åˆ°å®ä½“ç±»å¯¹è±¡ä¸­ã€‚èƒ½å¤Ÿå°è£…æˆå®ä½“ç±»ç±»å‹çš„ï¼Œå°±ä¸ä½¿ç”¨Mapç±»å‹ã€‚</p>
<p>Mapperæ¥å£çš„æŠ½è±¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map&lt;String,Object&gt; <span class="title function_">selectEmpNameAndMaxSalary</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Map&lt;String,Object&gt; selectEmpNameAndMaxSalary(); --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿”å›å·¥èµ„æœ€é«˜çš„å‘˜å·¥çš„å§“åå’Œä»–çš„å·¥èµ„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmpNameAndMaxSalary&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">  SELECT</span><br><span class="line">    emp_name å‘˜å·¥å§“å,</span><br><span class="line">    emp_salary å‘˜å·¥å·¥èµ„,</span><br><span class="line">    (SELECT AVG(emp_salary) FROM t_emp) éƒ¨é—¨å¹³å‡å·¥èµ„</span><br><span class="line">  FROM t_emp WHERE emp_salary=(</span><br><span class="line">    SELECT MAX(emp_salary) FROM t_emp</span><br><span class="line">  )</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æˆ–è€…ï¼š  æŸ¥è¯¢éƒ¨é—¨IDå·ä»¥åŠéƒ¨é—¨çš„å¹³å‡è–ªèµ„ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> select deptNo , avg(sal) as avg_sal from emp group by deptNo</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> deptNo , avg_sal</span></span><br><span class="line"><span class="comment"> d001     1500</span></span><br><span class="line"><span class="comment"> d002     1750</span></span><br><span class="line"><span class="comment"> d003     1600</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>

<p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryEmpNameAndSalary</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line"></span><br><span class="line">  Map&lt;String, Object&gt; resultMap = employeeMapper.selectEmpNameAndMaxSalary();</span><br><span class="line"></span><br><span class="line">  Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet = resultMap.entrySet();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : entrySet) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line"></span><br><span class="line">    <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line"></span><br><span class="line">    log.info(key + <span class="string">&quot;=&quot;</span> + value);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-è¿”å›Listç±»å‹"><a href="#3-5-è¿”å›Listç±»å‹" class="headerlink" title="3.5 è¿”å›Listç±»å‹"></a>3.5 è¿”å›Listç±»å‹</h4><p>æŸ¥è¯¢ç»“æœè¿”å›å¤šä¸ªå®ä½“ç±»å¯¹è±¡ï¼Œå¸Œæœ›æŠŠå¤šä¸ªå®ä½“ç±»å¯¹è±¡æ”¾åœ¨Listé›†åˆä¸­è¿”å›ã€‚æ­¤æ—¶ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šå¤„ç†ï¼Œåœ¨resultTypeå±æ€§ä¸­è¿˜æ˜¯è®¾ç½®å®ä½“ç±»ç±»å‹å³å¯ã€‚</p>
<p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Employee&gt; <span class="title function_">selectAll</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectAll(); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">  select emp_id empId,emp_name empName,emp_salary empSalary</span><br><span class="line">  from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectAll</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line">  List&lt;Employee&gt; employeeList = employeeMapper.selectAll();</span><br><span class="line">  <span class="keyword">for</span> (Employee employee : employeeList) &#123;</span><br><span class="line">    log.info(<span class="string">&quot;employee = &quot;</span> + employee);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-6-è¿”å›ä¸»é”®å€¼"><a href="#3-6-è¿”å›ä¸»é”®å€¼" class="headerlink" title="3.6 è¿”å›ä¸»é”®å€¼"></a>3.6 è¿”å›ä¸»é”®å€¼</h4><ol>
<li><p><strong>è‡ªå¢é•¿ç±»å‹ä¸»é”®</strong></p>
<p>Mapperæ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">insertEmployee</span><span class="params">(Employee employee)</span>;</span><br></pre></td></tr></table></figure>
<p>SQLè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- int insertEmployee(Employee employee); --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- useGeneratedKeyså±æ€§å­—é¢æ„æ€å°±æ˜¯â€œä½¿ç”¨ç”Ÿæˆçš„ä¸»é”®â€ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- keyPropertyå±æ€§å¯ä»¥æŒ‡å®šä¸»é”®åœ¨å®ä½“ç±»å¯¹è±¡ä¸­å¯¹åº”çš„å±æ€§åï¼ŒMybatisä¼šå°†æ‹¿åˆ°çš„ä¸»é”®å€¼å­˜å…¥è¿™ä¸ªå±æ€§ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertEmployee&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;empId&quot;</span>&gt;</span></span><br><span class="line">  insert into t_emp(emp_name,emp_salary)</span><br><span class="line">  values(#&#123;empName&#125;,#&#123;empSalary&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>junitæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSaveEmp</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">EmployeeMapper</span> <span class="variable">employeeMapper</span> <span class="operator">=</span> session.getMapper(EmployeeMapper.class);</span><br><span class="line">  <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">  employee.setEmpName(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">  employee.setEmpSalary(<span class="number">666.66</span>);</span><br><span class="line">  employeeMapper.insertEmployee(employee);</span><br><span class="line">  log.info(<span class="string">&quot;employee.getEmpId() = &quot;</span> + employee.getEmpId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„</p>
<p>Mybatisæ˜¯å°†è‡ªå¢ä¸»é”®çš„å€¼è®¾ç½®åˆ°å®ä½“ç±»å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯ä»¥Mapperæ¥å£æ–¹æ³•è¿”å›å€¼çš„å½¢å¼è¿”å›ã€‚</p>
</li>
<li><p><strong>éè‡ªå¢é•¿ç±»å‹ä¸»é”®</strong></p>
<p>è€Œå¯¹äºä¸æ”¯æŒè‡ªå¢å‹ä¸»é”®çš„æ•°æ®åº“ï¼ˆä¾‹å¦‚ Oracleï¼‰æˆ–è€…å­—ç¬¦ä¸²ç±»å‹ä¸»é”®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ selectKey å­å…ƒç´ ï¼šselectKey å…ƒç´ å°†ä¼šé¦–å…ˆè¿è¡Œï¼Œid ä¼šè¢«è®¾ç½®ï¼Œç„¶åæ’å…¥è¯­å¥ä¼šè¢«è°ƒç”¨ï¼</p>
<p>ä½¿ç”¨ <code>selectKey</code> å¸®åŠ©æ’å…¥UUIDä½œä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸»é”®ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;java.lang.String&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">order</span>=<span class="string">&quot;BEFORE&quot;</span>&gt;</span></span><br><span class="line">        SELECT UUID() as id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line">    INSERT INTO user (id, username, password) </span><br><span class="line">    VALUES (</span><br><span class="line">        #&#123;id&#125;,</span><br><span class="line">        #&#123;username&#125;,</span><br><span class="line">        #&#123;password&#125;</span><br><span class="line">    )</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>insertUser</code> çš„æ’å…¥è¯­å¥æ¥å°† <code>User</code> å¯¹è±¡æ’å…¥åˆ° <code>user</code> è¡¨ä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>selectKey</code> æ¥æŸ¥è¯¢ UUID å¹¶è®¾ç½®åˆ° <code>id</code> å­—æ®µä¸­ã€‚</p>
<p>é€šè¿‡ <code>keyProperty</code> å±æ€§æ¥æŒ‡å®šæŸ¥è¯¢åˆ°çš„ UUID èµ‹å€¼ç»™å¯¹è±¡ä¸­çš„ <code>id</code> å±æ€§ï¼Œè€Œ <code>resultType</code> å±æ€§æŒ‡å®šäº† UUID çš„ç±»å‹ä¸º <code>java.lang.String</code>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å°† <code>selectKey</code> æ”¾åœ¨äº†æ’å…¥è¯­å¥çš„å‰é¢ï¼Œè¿™æ˜¯å› ä¸º MySQL åœ¨ <code>insert</code> è¯­å¥ä¸­åªæ”¯æŒä¸€ä¸ª <code>select</code> å­å¥ï¼Œè€Œ <code>selectKey</code> ä¸­æŸ¥è¯¢ UUID çš„è¯­å¥å°±æ˜¯ä¸€ä¸ª <code>select</code> å­å¥ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å…¶æ”¾åœ¨å‰é¢ã€‚</p>
<p>æœ€åï¼Œåœ¨å°† <code>User</code> å¯¹è±¡æ’å…¥åˆ° <code>user</code> è¡¨ä¸­æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å¯¹è±¡ä¸­çš„ <code>id</code> å±æ€§æ¥æ’å…¥ä¸»é”®å€¼ã€‚</p>
<p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°æ’å…¥ UUID ä½œä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸»é”®ã€‚å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–æ’å…¥æ–¹å¼å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ä½¿ç”¨Javaä»£ç ç”ŸæˆUUIDå¹¶åœ¨ç±»ä¸­æ˜¾å¼è®¾ç½®å€¼ç­‰ã€‚éœ€è¦æ ¹æ®å…·ä½“åº”ç”¨åœºæ™¯å’Œéœ€æ±‚é€‰æ‹©åˆé€‚çš„æ’å…¥æ–¹å¼ã€‚</p>
</li>
</ol>
<h4 id="3-7-å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»"><a href="#3-7-å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»" class="headerlink" title="3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»"></a>3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»</h4><ol>
<li><p>åˆ«åå¯¹åº”</p>
<p>å°†å­—æ®µçš„åˆ«åè®¾ç½®æˆå’Œå®ä½“ç±»å±æ€§ä¸€è‡´ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¼–å†™å…·ä½“çš„SQLè¯­å¥ï¼Œä½¿ç”¨idå±æ€§å”¯ä¸€çš„æ ‡è®°ä¸€æ¡SQLè¯­å¥ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- resultTypeå±æ€§ï¼šæŒ‡å®šå°è£…æŸ¥è¯¢ç»“æœçš„Javaå®ä½“ç±»çš„å…¨ç±»å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Mybatisè´Ÿè´£æŠŠSQLè¯­å¥ä¸­çš„#&#123;&#125;éƒ¨åˆ†æ›¿æ¢æˆâ€œ?â€å ä½ç¬¦ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç»™æ¯ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œè®©åˆ«åå’ŒJavaå®ä½“ç±»ä¸­å±æ€§åä¸€è‡´ --&gt;</span></span><br><span class="line">  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#&#123;maomi&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³äºå®ä½“ç±»å±æ€§çš„çº¦å®šï¼š<br>getXxx()æ–¹æ³•ã€setXxx()æ–¹æ³•æŠŠæ–¹æ³•åä¸­çš„getæˆ–setå»æ‰ï¼Œé¦–å­—æ¯å°å†™ã€‚</p>
</blockquote>
</li>
<li><p>å…¨å±€é…ç½®è‡ªåŠ¨è¯†åˆ«é©¼å³°å¼å‘½åè§„åˆ™</p>
<p>åœ¨Mybatiså…¨å±€é…ç½®æ–‡ä»¶åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨settingså¯¹Mybatiså…¨å±€è¿›è¡Œè®¾ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å°†xxx_xxxè¿™æ ·çš„åˆ—åè‡ªåŠ¨æ˜ å°„åˆ°xxXxxè¿™æ ·é©¼å³°å¼å‘½åçš„å±æ€§å --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>SQLè¯­å¥ä¸­å¯ä»¥ä¸ä½¿ç”¨åˆ«å</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Employee selectEmployee(Integer empId); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployee&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">select emp_id,emp_name,emp_salary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨resultMap</p>
<p>ä½¿ç”¨resultMapæ ‡ç­¾å®šä¹‰å¯¹åº”å…³ç³»ï¼Œå†åœ¨åé¢çš„SQLè¯­å¥ä¸­å¼•ç”¨è¿™ä¸ªå¯¹åº”å…³ç³»</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸“é—¨å£°æ˜ä¸€ä¸ªresultMapè®¾å®šcolumnåˆ°propertyä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- ä½¿ç”¨idæ ‡ç­¾è®¾ç½®ä¸»é”®åˆ—å’Œä¸»é”®å±æ€§ä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- columnå±æ€§ç”¨äºæŒ‡å®šå­—æ®µåï¼›propertyå±æ€§ç”¨äºæŒ‡å®šJavaå®ä½“ç±»å±æ€§å --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;emp_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empId&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- ä½¿ç”¨resultæ ‡ç­¾è®¾ç½®æ™®é€šå­—æ®µå’ŒJavaå®ä½“ç±»å±æ€§ä¹‹é—´çš„å…³ç³» --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_salary&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empSalary&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Employee selectEmployeeByRM(Integer empId); --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRM&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      select emp_id,emp_name,emp_salary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-CRUDå¼ºåŒ–ç»ƒä¹ "><a href="#4-CRUDå¼ºåŒ–ç»ƒä¹ " class="headerlink" title="4. CRUDå¼ºåŒ–ç»ƒä¹ "></a>4. CRUDå¼ºåŒ–ç»ƒä¹ </h3><ol>
<li><p>å‡†å¤‡æ•°æ®åº“æ•°æ®</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€å¼ åä¸º <code>user</code> çš„è¡¨ã€‚è¯¥è¡¨åŒ…å«å­—æ®µ idï¼ˆä¸»é”®ï¼‰ã€usernameã€passwordã€‚åˆ›å»ºSQLå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> `<span class="keyword">user</span>` (</span><br><span class="line">  `id` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `username` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `password` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB AUTO_INCREMENT<span class="operator">=</span><span class="number">1</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>å®ä½“ç±»å‡†å¤‡</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå®ä½“ç±» <code>User</code>ï¼Œæ¥å¯¹åº” user è¡¨çš„ä¸€è¡Œæ•°æ®ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Data</span></span><br><span class="line">public class <span class="keyword">User</span> &#123;</span><br><span class="line">  private <span class="type">Integer</span> id;</span><br><span class="line">  private String username;</span><br><span class="line">  private String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Mapperæ¥å£å®šä¹‰</p>
<p>å®šä¹‰ä¸€ä¸ª Mapper æ¥å£ <code>UserMapper</code>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ  user è¡¨çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> <span class="title function_">insert</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="title function_">update</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">  User <span class="title function_">selectById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">  List&lt;User&gt; <span class="title function_">selectAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>MapperXMLç¼–å†™</p>
<p>åœ¨ resources &#x2F;mappersç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>UserMapper.xml</code> çš„ XML æ–‡ä»¶ï¼ŒåŒ…å«ä¸ Mapper æ¥å£ä¸­ç›¸åŒçš„äº”ä¸ª SQL è¯­å¥ï¼Œå¹¶åœ¨å…¶ä¸­ï¼Œå°†æŸ¥è¯¢ç»“æœæ˜ å°„åˆ° <code>User</code> å®ä½“ä¸­ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- namespaceç­‰äºmapperæ¥å£ç±»çš„å…¨é™å®šå,è¿™æ ·å®ç°å¯¹åº” --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.wzb.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å®šä¹‰ä¸€ä¸ªæ’å…¥è¯­å¥ï¼Œå¹¶è·å–ä¸»é”®å€¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insert&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">    INSERT INTO user(username, password)</span><br><span class="line">                VALUES(#&#123;username&#125;, #&#123;password&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span>&gt;</span></span><br><span class="line">    UPDATE user SET username=#&#123;username&#125;, password=#&#123;password&#125;</span><br><span class="line">    WHERE id=#&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delete&quot;</span>&gt;</span></span><br><span class="line">    DELETE FROM user WHERE id=#&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- resultTypeä½¿ç”¨useråˆ«åï¼Œç¨åéœ€è¦é…ç½®ï¼--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">    SELECT id, username, password FROM user WHERE id=#&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- resultTypeè¿”å›å€¼ç±»å‹ä¸ºé›†åˆï¼Œæ‰€ä»¥åªå†™èŒƒå‹å³å¯ï¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">    SELECT id, username, password FROM user</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>MyBatisé…ç½®æ–‡ä»¶</p>
<p>ä½ç½®ï¼šresources: mybatis-config.xml&#x20;</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼€å¯é©¼å³°å¼æ˜ å°„--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼€å¯logbackæ—¥å¿—è¾“å‡º--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;SLF4J&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç»™å®ä½“ç±»èµ·åˆ«å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.wzb.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis-example&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Mapperæ³¨å†Œï¼šæŒ‡å®šMybatisæ˜ å°„æ–‡ä»¶çš„å…·ä½“ä½ç½® --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mapperæ ‡ç­¾ï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„Mapperæ˜ å°„æ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- resourceå±æ€§ï¼šæŒ‡å®šMapperæ˜ å°„æ–‡ä»¶çš„å®é™…å­˜å‚¨ä½ç½®ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥ç±»è·¯å¾„æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--    å¯¹Mavenå·¥ç¨‹çš„ç›®å½•ç»“æ„æ¥è¯´ï¼Œresourcesç›®å½•ä¸‹çš„å†…å®¹ä¼šç›´æ¥æ”¾å…¥ç±»è·¯å¾„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»¥resourcesç›®å½•ä¸ºåŸºå‡† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>æ•ˆæœæµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wzb.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wzb.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.wzb.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * projectName: com.wzb.test</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SqlSession session;</span><br><span class="line">    <span class="comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        session = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>()</span><br><span class="line">                .build(</span><br><span class="line">                        Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>))</span><br><span class="line">                .openSession();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        userMapper.insert(user);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectById(<span class="number">1</span>);</span><br><span class="line">        user.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;111111&quot;</span>);</span><br><span class="line">        userMapper.update(user);</span><br><span class="line">        user = userMapper.selectById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        userMapper.delete(<span class="number">1</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user = &quot;</span> + user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">selectByIdTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user = &quot;</span> + user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">selectAllTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        List&lt;User&gt; userList = userMapper.selectAll();</span><br><span class="line">        System.out.println(<span class="string">&quot;userList = &quot;</span> + userList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-mapperXMLæ ‡ç­¾æ€»ç»“"><a href="#5-mapperXMLæ ‡ç­¾æ€»ç»“" class="headerlink" title="5. mapperXMLæ ‡ç­¾æ€»ç»“"></a>5. mapperXMLæ ‡ç­¾æ€»ç»“</h3><p>MyBatis çš„çœŸæ­£å¼ºå¤§åœ¨äºå®ƒçš„è¯­å¥æ˜ å°„ï¼Œè¿™æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚ç”±äºå®ƒçš„å¼‚å¸¸å¼ºå¤§ï¼Œæ˜ å°„å™¨çš„ XML æ–‡ä»¶å°±æ˜¾å¾—ç›¸å¯¹ç®€å•ã€‚å¦‚æœæ‹¿å®ƒè·Ÿå…·æœ‰ç›¸åŒåŠŸèƒ½çš„ JDBC ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œä½ ä¼šç«‹å³å‘ç°çœæ‰äº†å°†è¿‘ 95% çš„ä»£ç ã€‚MyBatis è‡´åŠ›äºå‡å°‘ä½¿ç”¨æˆæœ¬ï¼Œè®©ç”¨æˆ·èƒ½æ›´ä¸“æ³¨äº SQL ä»£ç ã€‚</p>
<p>SQL æ˜ å°„æ–‡ä»¶åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªé¡¶çº§å…ƒç´ ï¼ˆæŒ‰ç…§åº”è¢«å®šä¹‰çš„é¡ºåºåˆ—å‡ºï¼‰ï¼š</p>
<ul>
<li><code>insert</code> â€“ æ˜ å°„æ’å…¥è¯­å¥ã€‚</li>
<li><code>update</code> â€“ æ˜ å°„æ›´æ–°è¯­å¥ã€‚</li>
<li><code>delete</code> â€“ æ˜ å°„åˆ é™¤è¯­å¥ã€‚</li>
<li><code>select</code> â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥ã€‚</li>
</ul>
<p><strong>selectæ ‡ç­¾ï¼š</strong></p>
<p>MyBatis åœ¨æŸ¥è¯¢å’Œç»“æœæ˜ å°„åšäº†ç›¸å½“å¤šçš„æ”¹è¿›ã€‚ä¸€ä¸ªç®€å•æŸ¥è¯¢çš„ select å…ƒç´ æ˜¯éå¸¸ç®€å•ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectPerson&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">resultType</span>=<span class="string">&quot;hashmap&quot;</span>&gt;</span> SELECT * FROM PERSON WHERE ID = #&#123;id&#125; <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¯­å¥åä¸º selectPersonï¼Œæ¥å—ä¸€ä¸ª intï¼ˆæˆ– Integerï¼‰ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª HashMap ç±»å‹çš„å¯¹è±¡ï¼Œå…¶ä¸­çš„é”®æ˜¯åˆ—åï¼Œå€¼ä¾¿æ˜¯ç»“æœè¡Œä¸­çš„å¯¹åº”å€¼ã€‚</p>
<p>æ³¨æ„å‚æ•°ç¬¦å·ï¼š#{id}</p>
<p>MyBatis åˆ›å»ºä¸€ä¸ªé¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰å‚æ•°ï¼Œåœ¨ JDBC ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‚æ•°åœ¨ SQL ä¸­ä¼šç”±ä¸€ä¸ªâ€œ?â€æ¥æ ‡è¯†ï¼Œå¹¶è¢«ä¼ é€’åˆ°ä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ä¸­ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿‘ä¼¼çš„ JDBC ä»£ç ï¼Œé MyBatis ä»£ç ...</span></span><br><span class="line"><span class="type">String</span> <span class="variable">selectPerson</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM PERSON WHERE ID=?&quot;</span>;</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(selectPerson);</span><br><span class="line">ps.setInt(<span class="number">1</span>,id);</span><br></pre></td></tr></table></figure>

<p>select å…ƒç´ å…è®¸ä½ é…ç½®å¾ˆå¤šå±æ€§æ¥é…ç½®æ¯æ¡è¯­å¥çš„è¡Œä¸ºç»†èŠ‚ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td>
</tr>
<tr>
<td><code>resultType</code></td>
<td>æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td>
</tr>
<tr>
<td><code>resultMap</code></td>
<td>å¯¹å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœæ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚çš„æ˜ å°„é—®é¢˜éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td>è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>statementType</code></td>
<td>å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td>
</tr>
</tbody></table>
<p><strong>insert, update å’Œ deleteæ ‡ç­¾ï¼š</strong></p>
<p>æ•°æ®å˜æ›´è¯­å¥ insertï¼Œupdate å’Œ delete çš„å®ç°éå¸¸æ¥è¿‘ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;insertAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">keyProperty</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">keyColumn</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;updateAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;deleteAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td>è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>statementType</code></td>
<td>å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td>
</tr>
<tr>
<td><code>useGeneratedKeys</code></td>
<td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td>
</tr>
<tr>
<td><code>keyProperty</code></td>
<td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰æŒ‡å®šèƒ½å¤Ÿå”¯ä¸€è¯†åˆ«å¯¹è±¡çš„å±æ€§ï¼ŒMyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æˆ– insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆ<code>unset</code>ï¼‰ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td>
</tr>
<tr>
<td><code>keyColumn</code></td>
<td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è®¾ç½®ç”Ÿæˆé”®å€¼åœ¨è¡¨ä¸­çš„åˆ—åï¼Œåœ¨æŸäº›æ•°æ®åº“ï¼ˆåƒ PostgreSQLï¼‰ä¸­ï¼Œå½“ä¸»é”®åˆ—ä¸æ˜¯è¡¨ä¸­çš„ç¬¬ä¸€åˆ—çš„æ—¶å€™ï¼Œæ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td>
</tr>
</tbody></table>
<h3 id="6-mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š"><a href="#6-mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š" class="headerlink" title="6.mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š"></a>6.mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š</h3><ul>
<li>configurationï¼ˆé…ç½®ï¼‰<ul>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#properties" title="propertiesï¼ˆå±æ€§ï¼‰">propertiesï¼ˆå±æ€§ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#settings" title="settingsï¼ˆè®¾ç½®ï¼‰">settingsï¼ˆè®¾ç½®ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases" title="typeAliasesï¼ˆç±»å‹åˆ«åï¼‰">typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers" title="typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory" title="objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#plugins" title="pluginsï¼ˆæ’ä»¶ï¼‰">pluginsï¼ˆæ’ä»¶ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#environments" title="environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰">environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰</a><ul>
<li>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰<ul>
<li>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</li>
<li>dataSourceï¼ˆæ•°æ®æºï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#databaseIdProvider" title="databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰">databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#mappers" title="mappersï¼ˆæ˜ å°„å™¨ï¼‰">mappersï¼ˆæ˜ å°„å™¨ï¼‰</a></li>
</ul>
</li>
</ul>
<p>settingsè®¾ç½®é¡¹ï¼š</p>
<table>
<thead>
<tr>
<th>è®¾ç½®å</th>
<th>æè¿°</th>
<th>æœ‰æ•ˆå€¼</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>cacheEnabled</td>
<td>å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚</td>
<td>true | false</td>
<td>true</td>
</tr>
<tr>
<td>lazyLoadingEnabled</td>
<td>å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® <code>fetchType</code> å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚</td>
<td>true | false</td>
<td>false</td>
</tr>
<tr>
<td>aggressiveLazyLoading</td>
<td>å¼€å¯æ—¶ï¼Œä»»ä¸€æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å»¶è¿ŸåŠ è½½å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå»¶è¿ŸåŠ è½½å±æ€§ä¼šæŒ‰éœ€åŠ è½½ï¼ˆå‚è€ƒ <code>lazyLoadTriggerMethods</code>)ã€‚</td>
<td>true | false</td>
<td>false ï¼ˆåœ¨ 3.4.1 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤ä¸º trueï¼‰</td>
</tr>
<tr>
<td>multipleResultSetsEnabled</td>
<td>æ˜¯å¦å…è®¸å•ä¸ªè¯­å¥è¿”å›å¤šç»“æœé›†ï¼ˆéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒï¼‰ã€‚</td>
<td>true | false</td>
<td>true</td>
</tr>
<tr>
<td>useColumnLabel</td>
<td>ä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—åã€‚å®é™…è¡¨ç°ä¾èµ–äºæ•°æ®åº“é©±åŠ¨ï¼Œå…·ä½“å¯å‚è€ƒæ•°æ®åº“é©±åŠ¨çš„ç›¸å…³æ–‡æ¡£ï¼Œæˆ–é€šè¿‡å¯¹æ¯”æµ‹è¯•æ¥è§‚å¯Ÿã€‚</td>
<td>true | false</td>
<td>true</td>
</tr>
<tr>
<td>useGeneratedKeys</td>
<td>å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†å¼ºåˆ¶ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚å°½ç®¡ä¸€äº›æ•°æ®åº“é©±åŠ¨ä¸æ”¯æŒæ­¤ç‰¹æ€§ï¼Œä½†ä»å¯æ­£å¸¸å·¥ä½œï¼ˆå¦‚ Derbyï¼‰ã€‚</td>
<td>true | false</td>
<td>False</td>
</tr>
<tr>
<td>autoMappingBehavior</td>
<td>æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚</td>
<td>NONE, PARTIAL, FULL</td>
<td>PARTIAL</td>
</tr>
<tr>
<td>autoMapping UnknownColumnBehavior</td>
<td>æŒ‡å®šå‘ç°è‡ªåŠ¨æ˜ å°„ç›®æ ‡æœªçŸ¥åˆ—ï¼ˆæˆ–æœªçŸ¥å±æ€§ç±»å‹ï¼‰çš„è¡Œä¸ºã€‚ *   <code>NONE</code>: ä¸åšä»»ä½•ååº” *   <code>WARNING</code>: è¾“å‡ºè­¦å‘Šæ—¥å¿—ï¼ˆ<code>&#39;org.apache.ibatis.session.AutoMappingUnknownColumnBehavior&#39;</code> çš„æ—¥å¿—ç­‰çº§å¿…é¡»è®¾ç½®ä¸º <code>WARN</code>ï¼‰ *   <code>FAILING</code>: æ˜ å°„å¤±è´¥ (æŠ›å‡º <code>SqlSessionException</code>)</td>
<td>NONE, WARNING, FAILING</td>
<td>NONE</td>
</tr>
<tr>
<td>safeRowBoundsEnabled</td>
<td>æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨åˆ†é¡µï¼ˆRowBoundsï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚</td>
<td>true | false</td>
<td>False</td>
</tr>
<tr>
<td>safeResultHandlerEnabled</td>
<td>æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨ç»“æœå¤„ç†å™¨ï¼ˆResultHandlerï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚</td>
<td>true | false</td>
<td>True</td>
</tr>
<tr>
<td>mapUnderscoreToCamelCase</td>
<td>æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚</td>
<td>true | false</td>
<td>False</td>
</tr>
<tr>
<td>localCacheScope</td>
<td>MyBatis åˆ©ç”¨æœ¬åœ°ç¼“å­˜æœºåˆ¶ï¼ˆLocal Cacheï¼‰é˜²æ­¢å¾ªç¯å¼•ç”¨å’ŒåŠ é€Ÿé‡å¤çš„åµŒå¥—æŸ¥è¯¢ã€‚ é»˜è®¤å€¼ä¸º SESSIONï¼Œä¼šç¼“å­˜ä¸€ä¸ªä¼šè¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰æŸ¥è¯¢ã€‚ è‹¥è®¾ç½®å€¼ä¸º STATEMENTï¼Œæœ¬åœ°ç¼“å­˜å°†ä»…ç”¨äºæ‰§è¡Œè¯­å¥ï¼Œå¯¹ç›¸åŒ SqlSession çš„ä¸åŒæŸ¥è¯¢å°†ä¸ä¼šè¿›è¡Œç¼“å­˜ã€‚</td>
<td>SESSION | STATEMENT</td>
<td>SESSION</td>
</tr>
<tr>
<td>jdbcTypeForNull</td>
<td>å½“æ²¡æœ‰ä¸ºå‚æ•°æŒ‡å®šç‰¹å®šçš„ JDBC ç±»å‹æ—¶ï¼Œç©ºå€¼çš„é»˜è®¤ JDBC ç±»å‹ã€‚ æŸäº›æ•°æ®åº“é©±åŠ¨éœ€è¦æŒ‡å®šåˆ—çš„ JDBC ç±»å‹ï¼Œå¤šæ•°æƒ…å†µç›´æ¥ç”¨ä¸€èˆ¬ç±»å‹å³å¯ï¼Œæ¯”å¦‚ NULLã€VARCHAR æˆ– OTHERã€‚</td>
<td>JdbcType å¸¸é‡ï¼Œå¸¸ç”¨å€¼ï¼šNULLã€VARCHAR æˆ– OTHERã€‚</td>
<td>OTHER</td>
</tr>
<tr>
<td>lazyLoadTriggerMethods</td>
<td>æŒ‡å®šå¯¹è±¡çš„å“ªäº›æ–¹æ³•è§¦å‘ä¸€æ¬¡å»¶è¿ŸåŠ è½½ã€‚</td>
<td>ç”¨é€—å·åˆ†éš”çš„æ–¹æ³•åˆ—è¡¨ã€‚</td>
<td>equals,clone,hashCode,toString</td>
</tr>
<tr>
<td>defaultScriptingLanguage</td>
<td>æŒ‡å®šåŠ¨æ€ SQL ç”Ÿæˆä½¿ç”¨çš„é»˜è®¤è„šæœ¬è¯­è¨€ã€‚</td>
<td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚</td>
<td>org.apache.ibatis.scripting.xmltags.XMLLanguageDriver</td>
</tr>
<tr>
<td>defaultEnumTypeHandler</td>
<td>æŒ‡å®š Enum ä½¿ç”¨çš„é»˜è®¤ <code>TypeHandler</code> ã€‚ï¼ˆæ–°å¢äº 3.4.5ï¼‰</td>
<td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚</td>
<td>org.apache.ibatis.type.EnumTypeHandler</td>
</tr>
<tr>
<td>callSettersOnNulls</td>
<td>æŒ‡å®šå½“ç»“æœé›†ä¸­å€¼ä¸º null çš„æ—¶å€™æ˜¯å¦è°ƒç”¨æ˜ å°„å¯¹è±¡çš„ setterï¼ˆmap å¯¹è±¡æ—¶ä¸º putï¼‰æ–¹æ³•ï¼Œè¿™åœ¨ä¾èµ–äº Map.keySet() æˆ– null å€¼è¿›è¡Œåˆå§‹åŒ–æ—¶æ¯”è¾ƒæœ‰ç”¨ã€‚æ³¨æ„åŸºæœ¬ç±»å‹ï¼ˆintã€boolean ç­‰ï¼‰æ˜¯ä¸èƒ½è®¾ç½®æˆ null çš„ã€‚</td>
<td>true | false</td>
<td>false</td>
</tr>
<tr>
<td>returnInstanceForEmptyRow</td>
<td>å½“è¿”å›è¡Œçš„æ‰€æœ‰åˆ—éƒ½æ˜¯ç©ºæ—¶ï¼ŒMyBatisé»˜è®¤è¿”å› <code>null</code>ã€‚ å½“å¼€å¯è¿™ä¸ªè®¾ç½®æ—¶ï¼ŒMyBatisä¼šè¿”å›ä¸€ä¸ªç©ºå®ä¾‹ã€‚ è¯·æ³¨æ„ï¼Œå®ƒä¹Ÿé€‚ç”¨äºåµŒå¥—çš„ç»“æœé›†ï¼ˆå¦‚é›†åˆæˆ–å…³è”ï¼‰ã€‚ï¼ˆæ–°å¢äº 3.4.2ï¼‰</td>
<td>true | false</td>
<td>false</td>
</tr>
<tr>
<td>logPrefix</td>
<td>æŒ‡å®š MyBatis å¢åŠ åˆ°æ—¥å¿—åç§°çš„å‰ç¼€ã€‚</td>
<td>ä»»ä½•å­—ç¬¦ä¸²</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>logImpl</td>
<td>æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚</td>
<td>SLF4J | LOG4Jï¼ˆ3.5.9 èµ·åºŸå¼ƒï¼‰ | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>proxyFactory</td>
<td>æŒ‡å®š Mybatis åˆ›å»ºå¯å»¶è¿ŸåŠ è½½å¯¹è±¡æ‰€ç”¨åˆ°çš„ä»£ç†å·¥å…·ã€‚</td>
<td>CGLIB ï¼ˆ3.5.10 èµ·åºŸå¼ƒï¼‰ | JAVASSIST</td>
<td>JAVASSIST ï¼ˆMyBatis 3.3 ä»¥ä¸Šï¼‰</td>
</tr>
<tr>
<td>vfsImpl</td>
<td>æŒ‡å®š VFS çš„å®ç°</td>
<td>è‡ªå®šä¹‰ VFS çš„å®ç°çš„ç±»å…¨é™å®šåï¼Œä»¥é€—å·åˆ†éš”ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>useActualParamName</td>
<td>å…è®¸ä½¿ç”¨æ–¹æ³•ç­¾åä¸­çš„åç§°ä½œä¸ºè¯­å¥å‚æ•°åç§°ã€‚ ä¸ºäº†ä½¿ç”¨è¯¥ç‰¹æ€§ï¼Œä½ çš„é¡¹ç›®å¿…é¡»é‡‡ç”¨ Java 8 ç¼–è¯‘ï¼Œå¹¶ä¸”åŠ ä¸Š <code>-parameters</code> é€‰é¡¹ã€‚ï¼ˆæ–°å¢äº 3.4.1ï¼‰</td>
<td>true | false</td>
<td>true</td>
</tr>
<tr>
<td>configurationFactory</td>
<td>æŒ‡å®šä¸€ä¸ªæä¾› <code>Configuration</code> å®ä¾‹çš„ç±»ã€‚ è¿™ä¸ªè¢«è¿”å›çš„ Configuration å®ä¾‹ç”¨æ¥åŠ è½½è¢«ååºåˆ—åŒ–å¯¹è±¡çš„å»¶è¿ŸåŠ è½½å±æ€§å€¼ã€‚ è¿™ä¸ªç±»å¿…é¡»åŒ…å«ä¸€ä¸ªç­¾åä¸º<code>static Configuration getConfiguration()</code> çš„æ–¹æ³•ã€‚ï¼ˆæ–°å¢äº 3.2.3ï¼‰</td>
<td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å®Œå…¨é™å®šç±»åã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>shrinkWhitespacesInSql</td>
<td>ä»SQLä¸­åˆ é™¤å¤šä½™çš„ç©ºæ ¼å­—ç¬¦ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¹Ÿä¼šå½±å“SQLä¸­çš„æ–‡å­—å­—ç¬¦ä¸²ã€‚ (æ–°å¢äº 3.5.5)</td>
<td>true | false</td>
<td>false</td>
</tr>
<tr>
<td>defaultSqlProviderType</td>
<td>æŒ‡å®šä¸€ä¸ªæ‹¥æœ‰ provider æ–¹æ³•çš„ sql provider ç±» ï¼ˆæ–°å¢äº 3.5.6ï¼‰. è¿™ä¸ªç±»é€‚ç”¨äºæŒ‡å®š sql provider æ³¨è§£ä¸Šçš„<code>type</code>ï¼ˆæˆ– <code>value</code>ï¼‰ å±æ€§ï¼ˆå½“è¿™äº›å±æ€§åœ¨æ³¨è§£ä¸­è¢«å¿½ç•¥æ—¶ï¼‰ã€‚ (e.g. <code>@SelectProvider</code>)</td>
<td>ç±»å‹åˆ«åæˆ–è€…å…¨é™å®šå</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>nullableOnForEach</td>
<td>ä¸º â€˜foreachâ€™ æ ‡ç­¾çš„ â€˜nullableâ€™ å±æ€§æŒ‡å®šé»˜è®¤å€¼ã€‚ï¼ˆæ–°å¢äº 3.5.9ï¼‰</td>
<td>true | false</td>
<td>false</td>
</tr>
<tr>
<td>argNameBased ConstructorAutoMapping</td>
<td>å½“åº”ç”¨æ„é€ å™¨è‡ªåŠ¨æ˜ å°„æ—¶ï¼Œå‚æ•°åç§°è¢«ç”¨æ¥æœç´¢è¦æ˜ å°„çš„åˆ—ï¼Œè€Œä¸å†ä¾èµ–åˆ—çš„é¡ºåºã€‚ï¼ˆæ–°å¢äº 3.5.10ï¼‰</td>
<td>true | false</td>
<td>false</td>
</tr>
</tbody></table>
<h2 id="å››ã€MyBatiså¤šè¡¨æ˜ å°„"><a href="#å››ã€MyBatiså¤šè¡¨æ˜ å°„" class="headerlink" title="å››ã€MyBatiså¤šè¡¨æ˜ å°„"></a>å››ã€MyBatiså¤šè¡¨æ˜ å°„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å›é¡¾æ•°æ®åº“çŸ¥è¯†ï¼š</span><br><span class="line">1) å®ä½“(Entity)å’Œå®ä½“ä¹‹é—´çš„å…³ç³»</span><br><span class="line">   ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤š</span><br><span class="line">   ä¸€å¯¹ä¸€ä¸»é”®å…³è”:</span><br><span class="line">   äººå‘˜åŸºæœ¬ä¿¡æ¯è¡¨ ã€  èº«ä»½è¯ä¿¡æ¯ç»´æŠ¤è¡¨</span><br><span class="line">   id(pk)  name        id(pk)    cardNo  </span><br><span class="line">   1       jim         1         321281199910011232</span><br><span class="line">   2       tom         2     </span><br><span class="line">   ä¸€å¯¹ä¸€å”¯ä¸€å¤–é”®å…³è”</span><br><span class="line">   ç”·ç”Ÿè¡¨       ã€  å¥³ç”Ÿè¡¨</span><br><span class="line">   boyid   boyname       girlid   girlname   bodyID(unique)</span><br><span class="line">   1       jim           5        lina        1</span><br><span class="line">   2       tom           6        rose        2</span><br><span class="line">2) æ•°æ®åº“çš„è®¾è®¡èŒƒå¼</span><br><span class="line">   ç¬¬ä¸€èŒƒå¼ï¼šåˆ—ä¸å¯å†åˆ†</span><br><span class="line">           å‡è®¾æœ‰ä¸€åˆ—ï¼šæ”¶è´§åœ°å€ã€‚è¿™ä¸€åˆ—çš„å€¼æ˜¯ï¼šå¹¿ä¸œçœæ·±åœ³å¸‚å®å®‰åŒºèˆªåŸè¡—é“è¥¿éƒ¨ç¡…è°·å°šæŸè°·åˆ†è°·</span><br><span class="line">   ç¬¬äºŒèŒƒå¼ï¼šä¸€å¼ è¡¨åªæè¿°ä¸€ä»¶äº‹</span><br><span class="line">           å‡è®¾æœ‰å­¦å‘˜è¡¨ï¼Œå…¶ä¸­åŒ…å«å¦‚ä¸‹çš„åˆ—ï¼š å­¦å·ã€å§“åã€å‡ºç”Ÿå¹´æœˆã€æ€§åˆ«ã€ç±è´¯ã€çˆ¶æ¯å§“åã€è¡€å‹</span><br><span class="line">           æˆ‘è®¤ä¸ºå­¦å·ã€å§“åã€å‡ºç”Ÿå¹´æœˆã€æ€§åˆ« è¿™å››ä¸ªä½œä¸ºå­¦å‘˜è¡¨æ˜¯å¿…å¤‡çš„ã€‚ä½†æ˜¯çˆ¶æ¯å§“åã€çˆ¶æ¯å­¦å†ã€çˆ¶æ¯çš„å·¥ä½œæ€§è´¨ç­‰è¿™äº›ä¿¡æ¯å¹¶ä¸æ˜¯å­¦å‘˜æœ¬èº«çš„ä¿¡æ¯ã€‚å› æ­¤è¿™å¼ å­¦å‘˜è¡¨ä¸ç¬¦åˆç¬¬äºŒèŒƒå¼ã€‚åº”è¯¥æ‹†åˆ†æˆä¸¤å¼ è¡¨ã€‚</span><br><span class="line">   ç¬¬ä¸‰èŒƒå¼ï¼šè¡¨ä¸­çš„æ¯ä¸€åˆ—å’Œä¸»é”®æ˜¯ç›´æ¥ç›¸å…³ï¼Œè€Œä¸æ˜¯é—´æ¥ç›¸å…³ã€‚</span><br><span class="line">          å‡è®¾æœ‰å­¦å‘˜æˆç»©è¡¨ï¼Œä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼çš„è¡¨è®¾è®¡å¦‚ä¸‹ï¼š </span><br><span class="line">          id    stuid    stuname  subjectid   subjectname   score</span><br><span class="line">          1     s001     jim      sub001      è¯­æ–‡           90</span><br><span class="line">          ä¸Šé¢è¿™å¼ è¡¨ä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼ï¼Œå› ä¸ºå­¦å‘˜çš„å§“åä»¥åŠç§‘ç›®åç§°éƒ½å¯ä»¥é€šè¿‡ä»–ä»¬çš„idå’Œå­¦å‘˜è¡¨ä»¥åŠç§‘ç›®è¡¨è¿›è¡Œè¡¨è¿æ¥æŸ¥è¯¢åˆ°ã€‚</span><br><span class="line">          ç¬¦åˆç¬¬ä¸‰èŒƒå¼çš„è®¾è®¡æ–¹æ¡ˆåº”è¯¥å¦‚ä¸‹ï¼š</span><br><span class="line">          id    stuid     subid    score</span><br><span class="line">          1     s001      sub001    90</span><br><span class="line">3) æ•°æ®åº“èŒƒå¼å’Œæ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ä¹‹é—´çš„æƒè¡¡</span><br><span class="line">   æˆ‘ä»¬åˆ°åº•æ˜¯æƒ³è®©æ•°æ®åº“è®¾è®¡çš„æ›´è§„èŒƒï¼Œè¿˜æ˜¯æƒ³è®©æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½æ›´é«˜ï¼Ÿ</span><br><span class="line">   å°±æ‹¿ä¸Šé¢çš„æˆç»©è¡¨çš„ä¾‹å­æ¥è¯´ï¼Œæˆ‘ä»¬åº”è¯¥é™ä½æ•°æ®åº“çš„èŒƒå¼ï¼Œä»è€Œè·å¾—æ›´å¥½çš„æŸ¥è¯¢æ€§èƒ½ã€‚</span><br><span class="line">   ç›¸åçš„ï¼Œå¯¹äºä¸€äº›å›ºå®šä¸å˜çš„ï¼Œæ•°æ®é‡è¾ƒå°çš„ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„æé«˜æ•°æ®åº“çš„è§„èŒƒåº¦ï¼Œä»è€Œæœ€å¤§ç¨‹åº¦å‡å°‘å†—ä½™(æ€§èƒ½æ–¹é¢å¯ä»¥é€šè¿‡å…¶ä»–æŠ€æœ¯æ‰‹æ®µè§£å†³ï¼Œä¾‹å¦‚ç¼“å­˜)</span><br><span class="line">4) è¡¨è¿æ¥çš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼š</span><br><span class="line">   å·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ã€å†…è¿æ¥ã€å…¨è¿æ¥ï¼ˆmysqlä¸æ”¯æŒï¼‰</span><br><span class="line">   </span><br><span class="line">   mysql&gt; create database mydb charset utf8;</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; use mydb;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">Empty set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; create table t1</span><br><span class="line">    -&gt; (</span><br><span class="line">    -&gt; c1 varchar(5),</span><br><span class="line">    -&gt; c2 varchar(5)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.07 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; create table t2</span><br><span class="line">    -&gt; (</span><br><span class="line">    -&gt; c3 varchar(5),</span><br><span class="line">    -&gt; c4 varchar(5)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t1 values</span><br><span class="line">    -&gt; (&#x27;a&#x27;,&#x27;b&#x27;),(&#x27;b&#x27;,&#x27;c&#x27;),(&#x27;c&#x27;,&#x27;d&#x27;);</span><br><span class="line">Query OK, 3 rows affected (0.02 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values</span><br><span class="line">    -&gt; (&#x27;b&#x27;,&#x27;d&#x27;),(&#x27;e&#x27;,&#x27;f&#x27;);</span><br><span class="line">Query OK, 2 rows affected (0.02 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line">   </span><br><span class="line">è¡¨è¿æ¥çš„åŸºæœ¬è¯­å¥å¦‚ä¸‹ï¼š</span><br><span class="line">mysql&gt; select * from t1 , t2 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| a    | b    | e    | f    |</span><br><span class="line">| a    | b    | b    | d    |</span><br><span class="line">| b    | c    | e    | f    |</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">| c    | d    | e    | f    |</span><br><span class="line">| c    | d    | b    | d    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 inner join t2 on 1 = 1 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| a    | b    | e    | f    |</span><br><span class="line">| a    | b    | b    | d    |</span><br><span class="line">| b    | c    | e    | f    |</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">| c    | d    | e    | f    |</span><br><span class="line">| c    | d    | b    | d    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 inner join t2 on c1 = c3 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 left join t2 on c1 = c3 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| a    | b    | NULL | NULL |</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">| c    | d    | NULL | NULL |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 right join t2 on c1 = c3 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">| NULL | NULL | e    | f    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 full join t2 on c1 = c3 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1 left join t2 on c1 = c3</span><br><span class="line">    -&gt; union</span><br><span class="line">    -&gt; select * from t1 right join t2 on c1 = c3 ;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| c1   | c2   | c3   | c4   |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| a    | b    | NULL | NULL |</span><br><span class="line">| b    | c    | b    | d    |</span><br><span class="line">| c    | d    | NULL | NULL |</span><br><span class="line">| NULL | NULL | e    | f    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">4 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mybatisä¸­å¯¹äºå¯¹è±¡å…³è”åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå¯¹ä¸€å…³è”ã€å¯¹å¤šå…³è”</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¹å¤šå…³è”ï¼š ä¸€ä¸ªå­¦å‘˜æ‹¥æœ‰å¤šæœ¬ä¹¦ã€‚ </span><br><span class="line">Studentã€Book</span><br><span class="line">Studentï¼šsid , sname , bookList</span><br><span class="line">Book: bid , bname</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¹ä¸€å…³è”ï¼šä¸€æœ¬ä¹¦åªå±äºä¸€ä¸ªå­¦å‘˜</span><br><span class="line">Studentã€Book</span><br><span class="line">Studentï¼šsid , sname , bookList</span><br><span class="line">Book: bid , bname , student</span><br></pre></td></tr></table></figure>





<h3 id="1-å¤šè¡¨æ˜ å°„æ¦‚å¿µ"><a href="#1-å¤šè¡¨æ˜ å°„æ¦‚å¿µ" class="headerlink" title="1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ"></a>1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ</h3><ol>
<li><p><strong>å¤šè¡¨æŸ¥è¯¢ç»“æœæ˜ å°„æ€è·¯</strong></p>
<p>ä¸Šé¢è¯¾ç¨‹ä¸­ï¼Œæˆ‘å…¨é¢è®²è§£äº†å•è¡¨çš„mybatisæ“ä½œï¼ä½†æ˜¯å¼€å‘ä¸­æ›´å¤šçš„æ˜¯<strong>å¤šè¡¨æŸ¥è¯¢</strong>éœ€æ±‚ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¦‚ä½•è®©è¿›è¡Œå¤„ç†ï¼Ÿ</p>
<p>MyBatis æ€æƒ³æ˜¯ï¼šæ•°æ®åº“ä¸å¯èƒ½æ°¸è¿œæ˜¯ä½ æ‰€æƒ³æˆ–æ‰€éœ€çš„é‚£ä¸ªæ ·å­ã€‚ æˆ‘ä»¬å¸Œæœ›æ¯ä¸ªæ•°æ®åº“éƒ½å…·å¤‡è‰¯å¥½çš„ç¬¬ä¸‰èŒƒå¼æˆ– BCNF èŒƒå¼ï¼Œå¯æƒœå®ƒä»¬å¹¶ä¸éƒ½æ˜¯é‚£æ ·ã€‚ å¦‚æœèƒ½æœ‰ä¸€ç§æ•°æ®åº“æ˜ å°„æ¨¡å¼ï¼Œå®Œç¾é€‚é…æ‰€æœ‰çš„åº”ç”¨ç¨‹åºæŸ¥è¯¢éœ€æ±‚ï¼Œé‚£å°±å¤ªå¥½äº†ï¼Œè€Œ ResultMap å°±æ˜¯ MyBatis çš„å®Œç¾ç­”æ¡ˆã€‚&#x20;</p>
<p>å®˜æ–¹ä¾‹å­ï¼šæˆ‘ä»¬å¦‚ä½•æ˜ å°„ä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Ÿ&#x20;</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- éå¸¸å¤æ‚çš„è¯­å¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectBlogDetails&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;detailedBlogResultMap&quot;</span>&gt;</span></span><br><span class="line">  select</span><br><span class="line">       B.id as blog_id,</span><br><span class="line">       B.title as blog_title,</span><br><span class="line">       B.author_id as blog_author_id,</span><br><span class="line">       A.id as author_id,</span><br><span class="line">       A.username as author_username,</span><br><span class="line">       A.password as author_password,</span><br><span class="line">       A.email as author_email,</span><br><span class="line">       A.bio as author_bio,</span><br><span class="line">       A.favourite_section as author_favourite_section,</span><br><span class="line">       P.id as post_id,</span><br><span class="line">       P.blog_id as post_blog_id,</span><br><span class="line">       P.author_id as post_author_id,</span><br><span class="line">       P.created_on as post_created_on,</span><br><span class="line">       P.section as post_section,</span><br><span class="line">       P.subject as post_subject,</span><br><span class="line">       P.draft as draft,</span><br><span class="line">       P.body as post_body,</span><br><span class="line">       C.id as comment_id,</span><br><span class="line">       C.post_id as comment_post_id,</span><br><span class="line">       C.name as comment_name,</span><br><span class="line">       C.comment as comment_text,</span><br><span class="line">       T.id as tag_id,</span><br><span class="line">       T.name as tag_name</span><br><span class="line">  from Blog B</span><br><span class="line">       left outer join Author A on B.author_id = A.id</span><br><span class="line">       left outer join Post P on B.id = P.blog_id</span><br><span class="line">       left outer join Comment C on P.id = C.post_id</span><br><span class="line">       left outer join Post_Tag PT on PT.post_id = P.id</span><br><span class="line">       left outer join Tag T on PT.tag_id = T.id</span><br><span class="line">  where B.id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½ å¯èƒ½æƒ³æŠŠå®ƒæ˜ å°„åˆ°ä¸€ä¸ªæ™ºèƒ½çš„å¯¹è±¡æ¨¡å‹ï¼Œè¿™ä¸ªå¯¹è±¡è¡¨ç¤ºäº†ä¸€ç¯‡åšå®¢ï¼Œå®ƒç”±æŸä½ä½œè€…æ‰€å†™ï¼Œæœ‰å¾ˆå¤šçš„åšæ–‡ï¼Œæ¯ç¯‡åšæ–‡æœ‰é›¶æˆ–å¤šæ¡çš„è¯„è®ºå’Œæ ‡ç­¾ã€‚ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„ç»“æœæ˜ å°„ï¼ˆå‡è®¾ä½œè€…ï¼Œåšå®¢ï¼Œåšæ–‡ï¼Œè¯„è®ºå’Œæ ‡ç­¾éƒ½æ˜¯ç±»å‹åˆ«åï¼‰ã€‚ è™½ç„¶å®ƒçœ‹èµ·æ¥ä»¤äººæœ›è€Œç”Ÿç•ï¼Œä½†å…¶å®éå¸¸ç®€å•ã€‚&#x20;</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!-- éå¸¸å¤æ‚çš„ç»“æœæ˜ å°„ --&gt;</span><br><span class="line">&lt;resultMap id=<span class="string">&quot;detailedBlogResultMap&quot;</span> type=<span class="string">&quot;Blog&quot;</span>&gt;</span><br><span class="line">  &lt;constructor&gt;</span><br><span class="line">    &lt;idArg column=<span class="string">&quot;blog_id&quot;</span> javaType=<span class="string">&quot;int&quot;</span>/&gt;</span><br><span class="line">  &lt;/constructor&gt;</span><br><span class="line">  &lt;result property=<span class="string">&quot;title&quot;</span> column=<span class="string">&quot;blog_title&quot;</span>/&gt;</span><br><span class="line">  &lt;association property=<span class="string">&quot;author&quot;</span> javaType=<span class="string">&quot;Author&quot;</span>&gt;</span><br><span class="line">    &lt;id property=<span class="string">&quot;id&quot;</span> column=<span class="string">&quot;author_id&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;username&quot;</span> column=<span class="string">&quot;author_username&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;password&quot;</span> column=<span class="string">&quot;author_password&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;email&quot;</span> column=<span class="string">&quot;author_email&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;bio&quot;</span> column=<span class="string">&quot;author_bio&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;favouriteSection&quot;</span> column=<span class="string">&quot;author_favourite_section&quot;</span>/&gt;</span><br><span class="line">  &lt;/association&gt;</span><br><span class="line">  &lt;collection property=<span class="string">&quot;posts&quot;</span> ofType=<span class="string">&quot;Post&quot;</span>&gt;</span><br><span class="line">    &lt;id property=<span class="string">&quot;id&quot;</span> column=<span class="string">&quot;post_id&quot;</span>/&gt;</span><br><span class="line">    &lt;result property=<span class="string">&quot;subject&quot;</span> column=<span class="string">&quot;post_subject&quot;</span>/&gt;</span><br><span class="line">    &lt;association property=<span class="string">&quot;author&quot;</span> javaType=<span class="string">&quot;Author&quot;</span>/&gt;</span><br><span class="line">    &lt;collection property=<span class="string">&quot;comments&quot;</span> ofType=<span class="string">&quot;Comment&quot;</span>&gt;</span><br><span class="line">      &lt;id property=<span class="string">&quot;id&quot;</span> column=<span class="string">&quot;comment_id&quot;</span>/&gt;</span><br><span class="line">    &lt;/collection&gt;</span><br><span class="line">    &lt;collection property=<span class="string">&quot;tags&quot;</span> ofType=<span class="string">&quot;Tag&quot;</span> &gt;</span><br><span class="line">      &lt;id property=<span class="string">&quot;id&quot;</span> column=<span class="string">&quot;tag_id&quot;</span>/&gt;</span><br><span class="line">    &lt;/collection&gt;</span><br><span class="line">  &lt;/collection&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br></pre></td></tr></table></figure>
<p>ä½ ç°åœ¨å¯èƒ½çœ‹ä¸æ‡‚ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å­¦ä¹ å°†å¤šè¡¨æŸ¥è¯¢ç»“æœä½¿ç”¨ResultMapæ ‡ç­¾æ˜ å°„åˆ°å®ä½“ç±»å¯¹è±¡ä¸Šï¼</p>
<p><strong>æˆ‘ä»¬çš„å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<p>å¤šè¡¨æŸ¥è¯¢è¯­å¥å¤ä¹ </p>
<p>å¤šè¡¨ç»“æœæ‰¿æ¥å®ä½“ç±»è®¾è®¡</p>
<p>ä½¿ç”¨ResultMapå®Œæˆå¤šè¡¨ç»“æœæ˜ å°„</p>
</li>
<li><p><strong>å®ä½“ç±»è®¾è®¡æ–¹æ¡ˆ</strong></p>
<p>å¤šè¡¨å…³ç³»å›é¡¾ï¼šï¼ˆåŒå‘æŸ¥çœ‹ï¼‰</p>
<ul>
<li><p>ä¸€å¯¹ä¸€</p>
<p>å¤«å¦»å…³ç³»ï¼Œäººå’Œèº«ä»½è¯å·</p>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>ä¸€å¯¹å¤š</p>
<pre><code>ç”¨æˆ·å’Œç”¨æˆ·çš„è®¢å•ï¼Œé”å’Œé’¥åŒ™
</code></pre>
<ul>
<li><p>å¤šå¯¹å¤š</p>
<p>è€å¸ˆå’Œå­¦ç”Ÿï¼Œéƒ¨é—¨å’Œå‘˜å·¥</p>
</li>
</ul>
<p>å®ä½“ç±»è®¾è®¡å…³ç³»ï¼šï¼ˆå•å‘æŸ¥çœ‹ï¼‰</p>
</li>
<li><p>å¯¹ä¸€ ï¼š å¤«å¦»ä¸€æ–¹å¯¹åº”å¦ä¸€æ–¹ï¼Œè®¢å•å¯¹åº”ç”¨æˆ·éƒ½æ˜¯å¯¹ä¸€å…³ç³»</p>
<pre><code>å®ä½“ç±»è®¾è®¡ï¼šå¯¹ä¸€å…³ç³»ä¸‹ï¼Œç±»ä¸­åªè¦åŒ…å«å•ä¸ªå¯¹æ–¹å¯¹è±¡ç±»å‹å±æ€§å³å¯ï¼
</code></pre>
<p>ä¾‹å¦‚ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br></pre></td></tr></table></figure><br><br>  private Integer customerId;<br>  private String customerName;</p>
<p>}</p>
<pre><code>public class Order {
</code></pre>
<p>  private Integer orderId;<br>  private String orderName;<br>  private Customer customer;&#x2F;&#x2F; ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</p>
<pre><code>}  
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- å¯¹å¤š: ç”¨æˆ·å¯¹åº”çš„è®¢å•ï¼Œè®²å¸ˆå¯¹åº”çš„å­¦ç”Ÿæˆ–è€…å­¦ç”Ÿå¯¹åº”çš„è®²å¸ˆéƒ½æ˜¯å¯¹å¤šå…³ç³»ï¼š</span><br><span class="line"></span><br><span class="line">  å®ä½“ç±»è®¾è®¡ï¼šå¯¹å¤šå…³ç³»ä¸‹ï¼Œç±»ä¸­åªè¦åŒ…å«å¯¹æ–¹ç±»å‹é›†åˆå±æ€§å³å¯ï¼</span><br><span class="line">  ```java</span><br><span class="line">  public class Customer &#123;</span><br><span class="line">  </span><br><span class="line">    private Integer customerId;</span><br><span class="line">    private String customerName;</span><br><span class="line">    private List&lt;Order&gt; orderList;// ä½“ç°çš„æ˜¯å¯¹å¤šçš„å…³ç³»</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  public class Order &#123;</span><br><span class="line">  </span><br><span class="line">    private Integer orderId;</span><br><span class="line">    private String orderName;</span><br><span class="line">    </span><br><span class="line">    private Customer customer;// ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¤šè¡¨ç»“æœå®ä½“ç±»è®¾è®¡å°æŠ€å·§ï¼š</span><br><span class="line">  </span><br><span class="line">â€‹	å¯¹ä¸€ï¼Œå±æ€§ä¸­åŒ…å«å¯¹æ–¹å¯¹è±¡</span><br><span class="line">  </span><br><span class="line">â€‹	å¯¹å¤šï¼Œå±æ€§ä¸­åŒ…å«å¯¹æ–¹å¯¹è±¡é›†åˆ</span><br><span class="line">  </span><br><span class="line">  	åªæœ‰çœŸå®å‘ç”Ÿå¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œæ‰éœ€è¦è®¾è®¡å’Œä¿®æ”¹å®ä½“ç±»ï¼Œå¦åˆ™ä¸æå‰è®¾è®¡å’Œä¿®æ”¹å®ä½“ç±»ï¼</span><br><span class="line">    </span><br><span class="line">  â€‹	æ— è®ºå¤šå°‘å¼ è¡¨è”æŸ¥ï¼Œå®ä½“ç±»è®¾è®¡éƒ½æ˜¯ä¸¤ä¸¤è€ƒè™‘!</span><br><span class="line">    </span><br><span class="line">  â€‹	åœ¨æŸ¥è¯¢æ˜ å°„çš„æ—¶å€™ï¼Œåªéœ€è¦å…³æ³¨æœ¬æ¬¡æŸ¥è¯¢ç›¸å…³çš„å±æ€§ï¼ä¾‹å¦‚ï¼šæŸ¥è¯¢è®¢å•å’Œå¯¹åº”çš„å®¢æˆ·ï¼Œå°±ä¸è¦å…³æ³¨å®¢æˆ·ä¸­çš„è®¢å•é›†åˆï¼</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p><strong>å¤šè¡¨æ˜ å°„æ¡ˆä¾‹å‡†å¤‡</strong></p>
<p>æ•°æ®åº“ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> `t_customer` (`customer_id` <span class="type">INT</span> <span class="keyword">NOT NULL</span> AUTO_INCREMENT, `customer_name` <span class="type">CHAR</span>(<span class="number">100</span>), <span class="keyword">PRIMARY KEY</span> (`customer_id`) );</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `t_order` ( `order_id` <span class="type">INT</span> <span class="keyword">NOT NULL</span> AUTO_INCREMENT, `order_name` <span class="type">CHAR</span>(<span class="number">100</span>), `customer_id` <span class="type">INT</span>, <span class="keyword">PRIMARY KEY</span> (`order_id`) ); </span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_customer` (`customer_name`) <span class="keyword">VALUES</span> (<span class="string">&#x27;c01&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_order` (`order_name`, `customer_id`) <span class="keyword">VALUES</span> (<span class="string">&#x27;o1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_order` (`order_name`, `customer_id`) <span class="keyword">VALUES</span> (<span class="string">&#x27;o2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `t_order` (`order_name`, `customer_id`) <span class="keyword">VALUES</span> (<span class="string">&#x27;o3&#x27;</span>, <span class="string">&#x27;1&#x27;</span>); </span><br></pre></td></tr></table></figure>
<p>å®é™…å¼€å‘æ—¶ï¼Œä¸€èˆ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ç»™æ•°æ®åº“è¡¨è®¾ç½®å¤–é”®çº¦æŸã€‚<br>åŸå› æ˜¯é¿å…è°ƒè¯•ä¸æ–¹ä¾¿ã€‚<br>ä¸€èˆ¬æ˜¯åŠŸèƒ½å¼€å‘å®Œæˆï¼Œå†åŠ å¤–é”®çº¦æŸæ£€æŸ¥æ˜¯å¦æœ‰bugã€‚</p>
<p>å®ä½“ç±»è®¾è®¡ï¼š</p>
<p>ç¨åä¼šè¿›è¡Œè®¢å•å…³è”å®¢æˆ·æŸ¥è¯¢ï¼Œä¹Ÿä¼šè¿›è¡Œå®¢æˆ·å…³è”è®¢å•æŸ¥è¯¢ï¼Œæ‰€ä»¥åœ¨è¿™å…ˆç»ƒä¹ è®¾è®¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer customerId;</span><br><span class="line">  <span class="keyword">private</span> String customerName;</span><br><span class="line">  <span class="keyword">private</span> List&lt;Order&gt; orderList;<span class="comment">// ä½“ç°çš„æ˜¯å¯¹å¤šçš„å…³ç³»</span></span><br><span class="line">  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer orderId;</span><br><span class="line">  <span class="keyword">private</span> String orderName;</span><br><span class="line">  <span class="keyword">private</span> Customer customer;<span class="comment">// ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</span></span><br><span class="line">  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-å¯¹ä¸€æ˜ å°„"><a href="#2-å¯¹ä¸€æ˜ å°„" class="headerlink" title="2. å¯¹ä¸€æ˜ å°„"></a>2. å¯¹ä¸€æ˜ å°„</h3><ol>
<li><p>éœ€æ±‚è¯´æ˜</p>
<p>æ ¹æ®IDæŸ¥è¯¢è®¢å•ï¼Œä»¥åŠè®¢å•å…³è”çš„ç”¨æˆ·çš„ä¿¡æ¯ï¼</p>
</li>
<li><p>OrderMapperæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> &#123;</span><br><span class="line">  Order <span class="title function_">selectOrderWithCustomer</span><span class="params">(Integer orderId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>OrderMapper.xmlé…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºresultMapå®ç°â€œå¯¹ä¸€â€å…³è”å…³ç³»æ˜ å°„ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- idå±æ€§ï¼šé€šå¸¸è®¾ç½®ä¸ºè¿™ä¸ªresultMapæ‰€æœåŠ¡çš„é‚£æ¡SQLè¯­å¥çš„idåŠ ä¸Šâ€œResultMapâ€ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- typeå±æ€§ï¼šè¦è®¾ç½®ä¸ºè¿™ä¸ªresultMapæ‰€æœåŠ¡çš„é‚£æ¡SQLè¯­å¥æœ€ç»ˆè¦è¿”å›çš„ç±»å‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;selectOrderWithCustomerResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;order&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å…ˆè®¾ç½®Orderè‡ªèº«å±æ€§å’Œå­—æ®µçš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;order_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;orderId&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;order_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;orderName&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ä½¿ç”¨associationæ ‡ç­¾é…ç½®â€œå¯¹ä¸€â€å…³è”å…³ç³» --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- propertyå±æ€§ï¼šåœ¨Orderç±»ä¸­å¯¹ä¸€çš„ä¸€ç«¯è¿›è¡Œå¼•ç”¨æ—¶ä½¿ç”¨çš„å±æ€§å --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- javaTypeå±æ€§ï¼šä¸€çš„ä¸€ç«¯ç±»çš„å…¨ç±»å --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;customer&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;customer&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®Customerç±»çš„å±æ€§å’Œå­—æ®µåä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;customer_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;customerId&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;customer_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;customerName&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Order selectOrderWithCustomer(Integer orderId); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectOrderWithCustomer&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;selectOrderWithCustomerResultMap&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  SELECT order_id,order_name,c.customer_id,customer_name</span><br><span class="line">  FROM t_order o</span><br><span class="line">  LEFT JOIN t_customer c</span><br><span class="line">  ON o.customer_id=c.customer_id</span><br><span class="line">  WHERE o.order_id=#&#123;orderId&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯¹åº”å…³ç³»å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p>
<p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img018.6c3cfc17.png"></p>
</li>
<li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/OrderMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>junitæµ‹è¯•ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SqlSession session;</span><br><span class="line">    <span class="comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        session = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>()</span><br><span class="line">                .build(</span><br><span class="line">                        Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>))</span><br><span class="line">                .openSession();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRelationshipToOne</span><span class="params">()</span> &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="type">OrderMapper</span> <span class="variable">orderMapper</span> <span class="operator">=</span> session.getMapper(OrderMapper.class);</span><br><span class="line">      <span class="comment">// æŸ¥è¯¢Orderå¯¹è±¡ï¼Œæ£€æŸ¥æ˜¯å¦åŒæ—¶æŸ¥è¯¢äº†å…³è”çš„Customerå¯¹è±¡</span></span><br><span class="line">      <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> orderMapper.selectOrderWithCustomer(<span class="number">2</span>);</span><br><span class="line">      log.info(<span class="string">&quot;order = &quot;</span> + order);</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å…³é”®è¯</p>
<p>åœ¨â€œå¯¹ä¸€â€å…³è”å…³ç³»ä¸­ï¼Œæˆ‘ä»¬çš„é…ç½®æ¯”è¾ƒå¤šï¼Œä½†æ˜¯å…³é”®è¯å°±åªæœ‰ï¼š<strong>association</strong>å’Œ<strong>javaType</strong></p>
</li>
</ol>
<h3 id="3-å¯¹å¤šæ˜ å°„"><a href="#3-å¯¹å¤šæ˜ å°„" class="headerlink" title="3. å¯¹å¤šæ˜ å°„"></a>3. å¯¹å¤šæ˜ å°„</h3><ol>
<li><p>éœ€æ±‚è¯´æ˜</p>
<p>æŸ¥è¯¢å®¢æˆ·å’Œå®¢æˆ·å…³è”çš„è®¢å•ä¿¡æ¯ï¼</p>
</li>
<li><p>CustomerMapperæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CustomerMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">  Customer <span class="title function_">selectCustomerWithOrderList</span><span class="params">(Integer customerId)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>CustomerMapper.xmlæ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!-- é…ç½®resultMapå®ç°ä»Customeråˆ°OrderListçš„â€œå¯¹å¤šâ€å…³è”å…³ç³» --&gt;</span><br><span class="line">&lt;resultMap id=<span class="string">&quot;selectCustomerWithOrderListResultMap&quot;</span></span><br><span class="line"></span><br><span class="line">  type=<span class="string">&quot;customer&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- æ˜ å°„Customeræœ¬èº«çš„å±æ€§ --&gt;</span><br><span class="line">  &lt;id column=<span class="string">&quot;customer_id&quot;</span> property=<span class="string">&quot;customerId&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;result column=<span class="string">&quot;customer_name&quot;</span> property=<span class="string">&quot;customerName&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- collectionæ ‡ç­¾ï¼šæ˜ å°„â€œå¯¹å¤šâ€çš„å…³è”å…³ç³» --&gt;</span><br><span class="line">  &lt;!-- propertyå±æ€§ï¼šåœ¨Customerç±»ä¸­ï¼Œå…³è”â€œå¤šâ€çš„ä¸€ç«¯çš„å±æ€§å --&gt;</span><br><span class="line">  &lt;!-- ofTypeå±æ€§ï¼šé›†åˆå±æ€§ä¸­å…ƒç´ çš„ç±»å‹ --&gt;</span><br><span class="line">  &lt;collection property=<span class="string">&quot;orderList&quot;</span> ofType=<span class="string">&quot;order&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- æ˜ å°„Orderçš„å±æ€§ --&gt;</span><br><span class="line">    &lt;id column=<span class="string">&quot;order_id&quot;</span> property=<span class="string">&quot;orderId&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;result column=<span class="string">&quot;order_name&quot;</span> property=<span class="string">&quot;orderName&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/collection&gt;</span><br><span class="line"></span><br><span class="line">&lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Customer <span class="title function_">selectCustomerWithOrderList</span><span class="params">(Integer customerId)</span>; --&gt;</span><br><span class="line">&lt;select id=<span class="string">&quot;selectCustomerWithOrderList&quot;</span> resultMap=<span class="string">&quot;selectCustomerWithOrderListResultMap&quot;</span>&gt;</span><br><span class="line">  SELECT c.customer_id,c.customer_name,o.order_id,o.order_name</span><br><span class="line">  FROM t_customer c</span><br><span class="line">  LEFT JOIN t_order o</span><br><span class="line">  ON c.customer_id=o.customer_id</span><br><span class="line">  WHERE c.customer_id=#&#123;customerId&#125;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”å…³ç³»å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p>
<p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img019.dba418c1.png"></p>
</li>
<li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/OrderMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/CustomerMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>junitæµ‹è¯•ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRelationshipToMulti</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">CustomerMapper</span> <span class="variable">customerMapper</span> <span class="operator">=</span> session.getMapper(CustomerMapper.class);</span><br><span class="line">  <span class="comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span></span><br><span class="line">  <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> customerMapper.selectCustomerWithOrderList(<span class="number">1</span>);</span><br><span class="line">  log.info(<span class="string">&quot;customer.getCustomerId() = &quot;</span> + customer.getCustomerId());</span><br><span class="line">  log.info(<span class="string">&quot;customer.getCustomerName() = &quot;</span> + customer.getCustomerName());</span><br><span class="line">  List&lt;Order&gt; orderList = customer.getOrderList();</span><br><span class="line">  <span class="keyword">for</span> (Order order : orderList) &#123;</span><br><span class="line">    log.info(<span class="string">&quot;order = &quot;</span> + order);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å…³é”®è¯</p>
<p>åœ¨â€œå¯¹å¤šâ€å…³è”å…³ç³»ä¸­ï¼ŒåŒæ ·æœ‰å¾ˆå¤šé…ç½®ï¼Œä½†æ˜¯æç‚¼å‡ºæ¥æœ€å…³é”®çš„å°±æ˜¯ï¼šâ€œcollectionâ€å’Œâ€œofTypeâ€</p>
</li>
</ol>
<h3 id="4-å¤šå¯¹å¤šæ˜ å°„"><a href="#4-å¤šå¯¹å¤šæ˜ å°„" class="headerlink" title="4. å¤šå¯¹å¤šæ˜ å°„"></a>4. å¤šå¯¹å¤šæ˜ å°„</h3><blockquote>
<p>å¤šå¯¹å¤šå…¶å®å°±æ˜¯ä¸¤ä¸ªå¯¹å¤š</p>
</blockquote>
<p>å¤šå¯¹å¤šæ˜¯è¡¨å…³ç³»ï¼Œå®ä½“å…³ç³»å•å‘æ¥çœ‹å°±æ˜¯å¯¹å¤šï¼åªä¸è¿‡éœ€è¦ä¸‰è¡¨æŸ¥è¯¢ï¼ˆä¸­é—´è¡¨ï¼‰ï¼ï¼ï¼</p>
<p>å¤šå¯¹å¤šè¡¨å…³ç³»ç¤ºæ„å›¾ï¼š</p>
<p><img src="image_2LrhO3TtMz.png"></p>
<p>å¤šå¯¹å¤šå…·ä½“ä¸šåŠ¡å®ç°ï¼š</p>
<ol>
<li><p>æ•°æ®åº“è„šæœ¬</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">-- åˆ›å»ºè®²å¸ˆè¡¨</span><br><span class="line">CREATE TABLE <span class="title function_">t_teacher</span> <span class="params">(</span></span><br><span class="line"><span class="params">  t_id INT PRIMARY KEY,</span></span><br><span class="line"><span class="params">  t_name VARCHAR(<span class="number">50</span>)</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå­¦ç”Ÿè¡¨</span><br><span class="line">CREATE TABLE <span class="title function_">t_student</span> <span class="params">(</span></span><br><span class="line"><span class="params">  s_id INT PRIMARY KEY,</span></span><br><span class="line"><span class="params">  s_name VARCHAR(<span class="number">50</span>)</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºä¸­é—´è¡¨</span><br><span class="line">CREATE TABLE <span class="title function_">t_inner</span> <span class="params">(</span></span><br><span class="line"><span class="params">  t_id INT,</span></span><br><span class="line"><span class="params">  s_id INT,</span></span><br><span class="line"><span class="params">  PRIMARY KEY (t_id, s_id)</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- å‘è®²å¸ˆè¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®</span><br><span class="line">INSERT INTO t_teacher <span class="title function_">VALUES</span> <span class="params">(<span class="number">1</span>, <span class="string">&#x27;å¼ ä¸‰&#x27;</span>)</span>;</span><br><span class="line">INSERT INTO t_teacher <span class="title function_">VALUES</span> <span class="params">(<span class="number">2</span>, <span class="string">&#x27;æå››&#x27;</span>)</span>;</span><br><span class="line">INSERT INTO t_teacher <span class="title function_">VALUES</span> <span class="params">(<span class="number">3</span>, <span class="string">&#x27;ç‹äº”&#x27;</span>)</span>;</span><br><span class="line"></span><br><span class="line">-- å‘å­¦ç”Ÿè¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®</span><br><span class="line">INSERT INTO t_student <span class="title function_">VALUES</span> <span class="params">(<span class="number">1</span>, <span class="string">&#x27;å°æ˜&#x27;</span>)</span>;</span><br><span class="line">INSERT INTO t_student <span class="title function_">VALUES</span> <span class="params">(<span class="number">2</span>, <span class="string">&#x27;å°çº¢&#x27;</span>)</span>;</span><br><span class="line">INSERT INTO t_student <span class="title function_">VALUES</span> <span class="params">(<span class="number">3</span>, <span class="string">&#x27;å°åˆš&#x27;</span>)</span>;</span><br><span class="line"></span><br><span class="line">-- å‘ä¸­é—´è¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®</span><br><span class="line">INSERT INTO t_inner <span class="title function_">VALUES</span> <span class="params">(<span class="number">1</span>, <span class="number">1</span>)</span>;</span><br><span class="line">INSERT INTO t_inner <span class="title function_">VALUES</span> <span class="params">(<span class="number">1</span>, <span class="number">3</span>)</span>;</span><br><span class="line">INSERT INTO t_inner <span class="title function_">VALUES</span> <span class="params">(<span class="number">2</span>, <span class="number">2</span>)</span>;</span><br><span class="line">INSERT INTO t_inner <span class="title function_">VALUES</span> <span class="params">(<span class="number">3</span>, <span class="number">1</span>)</span>;</span><br><span class="line">INSERT INTO t_inner <span class="title function_">VALUES</span> <span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥è¯¢éœ€æ±‚åˆ†æ</p>
<p>æŸ¥è¯¢è®²å¸ˆä¿¡æ¯ï¼Œå¹¶ä¸”æŸ¥è¯¢æ¯åè®²å¸ˆå…³è”çš„å­¦ç”Ÿä¿¡æ¯ï¼</p>
</li>
<li><p>å®ä½“ç±»è®¾è®¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer tId;</span><br><span class="line">    <span class="keyword">private</span> String tName;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; students;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer sId;</span><br><span class="line">    <span class="keyword">private</span> String sName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>TeacherMapperæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TeacherMapper</span> &#123;</span><br><span class="line">    List&lt;Teacher&gt; <span class="title function_">findAllTeachers</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>TeacherMapperXMLæ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;mapper namespace=<span class="string">&quot;com.example.mapper.TeacherMapper&quot;</span>&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findAllTeachers&quot;</span> resultMap=<span class="string">&quot;teacherMap&quot;</span>&gt;</span><br><span class="line">        SELECT t.t_id, t.t_name, s.s_id, s.s_name</span><br><span class="line">        FROM t_teacher t LEFT OUTER JOIN t_inner i ON t.t_id = i.t_id</span><br><span class="line">        LEFT OUTER JOIN t_student s ON i.s_id = s.s_id</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;resultMap id=<span class="string">&quot;teacherMap&quot;</span> type=<span class="string">&quot;teacher&quot;</span>&gt;</span><br><span class="line">        &lt;id property=<span class="string">&quot;tId&quot;</span> column=<span class="string">&quot;t_id&quot;</span> /&gt;</span><br><span class="line">        &lt;result property=<span class="string">&quot;tName&quot;</span> column=<span class="string">&quot;t_name&quot;</span> /&gt;</span><br><span class="line">        &lt;collection property=<span class="string">&quot;students&quot;</span> ofType=<span class="string">&quot;student&quot;</span> &gt;</span><br><span class="line">          &lt;id property=<span class="string">&quot;sId&quot;</span> column=<span class="string">&quot;s_id&quot;</span> /&gt;</span><br><span class="line">          &lt;result property=<span class="string">&quot;sName&quot;</span> column=<span class="string">&quot;s_name&quot;</span> /&gt;</span><br><span class="line">        &lt;/collection&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/OrderMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/CustomerMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mappers/TeacherMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>junitæµ‹è¯•ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTeacherRelationshipToMulti</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">TeacherMapper</span> <span class="variable">teacherMapper</span> <span class="operator">=</span> session.getMapper(TeacherMapper.class);</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span></span><br><span class="line">    List&lt;Teacher&gt; allTeachers = teacherMapper.findAllTeachers();</span><br><span class="line">    log.info(<span class="string">&quot;allTeachers = &quot;</span> + allTeachers);</span><br><span class="line">    <span class="keyword">for</span> (Teacher teacher : allTeachers) &#123;</span><br><span class="line">        log.info(<span class="string">&quot;teacher = &quot;</span> + teacher);</span><br><span class="line">        log.info(<span class="string">&quot;teacher.students = &quot;</span> + teacher.getStudents());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-å¤šè¡¨æ˜ å°„æ€»ç»“"><a href="#5-å¤šè¡¨æ˜ å°„æ€»ç»“" class="headerlink" title="5. å¤šè¡¨æ˜ å°„æ€»ç»“"></a>5. å¤šè¡¨æ˜ å°„æ€»ç»“</h3><h4 id="5-1-å¤šè¡¨æ˜ å°„ä¼˜åŒ–"><a href="#5-1-å¤šè¡¨æ˜ å°„ä¼˜åŒ–" class="headerlink" title="5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–"></a>5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–</h4><table>
<thead>
<tr>
<th>settingå±æ€§</th>
<th>å±æ€§å«ä¹‰</th>
<th>å¯é€‰å€¼</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>autoMappingBehavior</td>
<td>æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚</td>
<td>NONE, PARTIAL, FULL</td>
<td>PARTIAL</td>
</tr>
</tbody></table>
<p>æˆ‘ä»¬å¯ä»¥å°†autoMappingBehaviorè®¾ç½®ä¸ºfull,è¿›è¡Œå¤šè¡¨resultMapæ˜ å°„çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥ç¬¦åˆåˆ—å’Œå±æ€§å‘½åæ˜ å°„è§„åˆ™ï¼ˆåˆ—å&#x3D;å±æ€§åï¼Œæˆ–è€…å¼€å¯é©¼å³°æ˜ å°„ä¹Ÿå¯ä»¥è‡ªå®šæ˜ å°„ï¼‰çš„resultæ ‡ç­¾ï¼</p>
<p>ä¿®æ”¹mybati-sconfig.xml:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼€å¯resultMapè‡ªåŠ¨æ˜ å°„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;autoMappingBehavior&quot;</span> <span class="attr">value</span>=<span class="string">&quot;FULL&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹teacherMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;teacherMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;tId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;t_id&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯è‡ªåŠ¨æ˜ å°„,å¹¶ä¸”å¼€å¯é©¼å³°å¼æ”¯æŒ!å¯ä»¥çœç•¥ result!--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;result property=&quot;tName&quot; column=&quot;t_name&quot; /&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;student&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;s_id&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;result property=&quot;sName&quot; column=&quot;s_name&quot; /&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-2-å¤šè¡¨æ˜ å°„æ€»ç»“"><a href="#5-2-å¤šè¡¨æ˜ å°„æ€»ç»“" class="headerlink" title="5.2 å¤šè¡¨æ˜ å°„æ€»ç»“"></a>5.2 å¤šè¡¨æ˜ å°„æ€»ç»“</h4><table>
<thead>
<tr>
<th>å…³è”å…³ç³»</th>
<th>é…ç½®é¡¹å…³é”®è¯</th>
<th>æ‰€åœ¨é…ç½®æ–‡ä»¶å’Œå…·ä½“ä½ç½®</th>
</tr>
</thead>
<tbody><tr>
<td>å¯¹ä¸€</td>
<td>associationæ ‡ç­¾&#x2F;javaTypeå±æ€§&#x2F;propertyå±æ€§</td>
<td>Mapperé…ç½®æ–‡ä»¶ä¸­çš„resultMapæ ‡ç­¾å†…</td>
</tr>
<tr>
<td>å¯¹å¤š</td>
<td>collectionæ ‡ç­¾&#x2F;ofTypeå±æ€§&#x2F;propertyå±æ€§</td>
<td>Mapperé…ç½®æ–‡ä»¶ä¸­çš„resultMapæ ‡ç­¾å†…</td>
</tr>
</tbody></table>
<h4 id="5-3-åˆ†æ­¥æŸ¥è¯¢"><a href="#5-3-åˆ†æ­¥æŸ¥è¯¢" class="headerlink" title="5.3 åˆ†æ­¥æŸ¥è¯¢"></a>5.3 åˆ†æ­¥æŸ¥è¯¢</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨StudentMapperä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼š</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentMapper</span> &#123;</span><br><span class="line">    <span class="comment">//æ¼”ç¤ºåˆ†æ­¥æŸ¥è¯¢,æ ¹æ®sidæŸ¥è¯¢ç‰¹å®šçš„Studentä¿¡æ¯ï¼ŒåŒ…å«Booké›†åˆ</span></span><br><span class="line">    Student <span class="title function_">getStudentWithBookList</span><span class="params">(String sid )</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨StudentMapper.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®: --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ¼”ç¤ºåˆ†æ­¥æŸ¥è¯¢ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    æ ¹æ®sidæŸ¥è¯¢ç‰¹å®šçš„å­¦å‘˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»–å…³è”çš„booké›†åˆã€‚</span></span><br><span class="line"><span class="comment">    ä¸Šé¢è¿™ä¸ªåŠŸèƒ½å…¶å®å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</span></span><br><span class="line"><span class="comment">    1. æ ¹æ®sidæŸ¥è¯¢ç‰¹å®šå­¦å‘˜æœ¬èº«çš„ä¿¡æ¯ - æŸ¥å­¦å‘˜è¡¨</span></span><br><span class="line"><span class="comment">       select * from t_stu where sid = 1</span></span><br><span class="line"><span class="comment">    2. æ ¹æ®sidæŸ¥è¯¢booké›†åˆ        - æŸ¥å›¾ä¹¦è¡¨</span></span><br><span class="line"><span class="comment">       select * from t_book where stuid = 1</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentWithBookList&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;studentWithBookListResultMap3&quot;</span>&gt;</span></span><br><span class="line">    select * from t_stu where sid = #&#123;value&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;studentWithBookListResultMap3&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;bookList&quot;</span> <span class="attr">select</span>=<span class="string">&quot;com.wzb.mybatis.mapper.BookMapper.getBookListBySid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ–°çŸ¥è¯†ç‚¹ä»…ä»…æ˜¯ä¸Šé¢çš„ä¸¤ä¸ªå±æ€§ï¼š select , column --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸Šé¢çš„selectå¼•å…¥çš„æ˜¯å¦‚ä¸‹çš„æŸ¥è¯¢é…ç½®ï¼š --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- åœ¨BookMapper.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŸ¥è¯¢ç‰¹å®šå­¦å‘˜çš„å›¾ä¹¦åˆ—è¡¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getBookListBySid&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Book&quot;</span>&gt;</span></span><br><span class="line">    select * from t_book where stuid = #&#123;value&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-4-å»¶è¿ŸåŠ è½½"><a href="#5-4-å»¶è¿ŸåŠ è½½" class="headerlink" title="5.4 å»¶è¿ŸåŠ è½½"></a>5.4 å»¶è¿ŸåŠ è½½</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--  ä¸ºä»€ä¹ˆéœ€è¦å»¶è¿ŸåŠ è½½ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  å¦‚ä½•è®¾ç½®å»¶è¿ŸåŠ è½½ï¼š--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- åœ¨mybatis-config.xmlæ–‡ä»¶ä¸­å¼€å¯å…¨å±€çš„å»¶è¿ŸåŠ è½½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å•å…ƒæµ‹è¯•æ–¹æ³•å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//System.out.println(studentMapper.getStudentWithBookList(&quot;s001&quot;));</span></span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> studentMapper.getStudentWithBookList(<span class="string">&quot;s001&quot;</span>);</span><br><span class="line">    System.out.println(student.getSid()+<span class="string">&quot;-&quot;</span>+student.getSname());</span><br><span class="line">    <span class="comment">//ä¸‹é¢è¿™å¥è¯å¦‚æœæ³¨é‡Šï¼Œé‚£ä¹ˆå°±ä¸ä¼šæŸ¥è¯¢t_bookè¡¨</span></span><br><span class="line">    System.out.println(student.getBookList().size());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å»¶è¿ŸåŠ è½½çš„å‰ææ¡ä»¶æ˜¯ï¼šåˆ†æ­¥æŸ¥è¯¢ã€‚</p>
</blockquote>
<h2 id="äº”ã€MyBatisåŠ¨æ€è¯­å¥-åŠ¨æ€SQL"><a href="#äº”ã€MyBatisåŠ¨æ€è¯­å¥-åŠ¨æ€SQL" class="headerlink" title="äº”ã€MyBatisåŠ¨æ€è¯­å¥(åŠ¨æ€SQL)"></a>äº”ã€MyBatisåŠ¨æ€è¯­å¥(åŠ¨æ€SQL)</h2><h3 id="1-åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹"><a href="#1-åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹" class="headerlink" title="1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹"></a>1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹</h3><p>ç»å¸¸é‡åˆ°å¾ˆå¤šæŒ‰ç…§å¾ˆå¤šæŸ¥è¯¢æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢çš„æƒ…å†µï¼Œæ¯”å¦‚æ™ºè”æ‹›è˜çš„èŒä½æœç´¢ç­‰ã€‚å…¶ä¸­ç»å¸¸å‡ºç°å¾ˆå¤šæ¡ä»¶ä¸å–å€¼çš„æƒ…å†µï¼Œåœ¨åå°åº”è¯¥å¦‚ä½•å®Œæˆæœ€ç»ˆçš„SQLè¯­å¥å‘¢ï¼Ÿ</p>
<p><img src="image_vfoh_vetQw.png"></p>
<p>åŠ¨æ€ SQL æ˜¯ MyBatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡ JDBC æˆ–å…¶å®ƒç±»ä¼¼çš„æ¡†æ¶ï¼Œä½ åº”è¯¥èƒ½ç†è§£æ ¹æ®ä¸åŒæ¡ä»¶æ‹¼æ¥ SQL è¯­å¥æœ‰å¤šç—›è‹¦ï¼Œä¾‹å¦‚æ‹¼æ¥æ—¶è¦ç¡®ä¿ä¸èƒ½å¿˜è®°æ·»åŠ å¿…è¦çš„ç©ºæ ¼ï¼Œè¿˜è¦æ³¨æ„å»æ‰åˆ—è¡¨æœ€åä¸€ä¸ªåˆ—åçš„é€—å·ã€‚åˆ©ç”¨åŠ¨æ€ SQLï¼Œå¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚</p>
<p>ä½¿ç”¨åŠ¨æ€ SQL å¹¶éä¸€ä»¶æ˜“äº‹ï¼Œä½†å€ŸåŠ©å¯ç”¨äºä»»ä½• SQL æ˜ å°„è¯­å¥ä¸­çš„å¼ºå¤§çš„åŠ¨æ€ SQL è¯­è¨€ï¼ŒMyBatis æ˜¾è‘—åœ°æå‡äº†è¿™ä¸€ç‰¹æ€§çš„æ˜“ç”¨æ€§ã€‚</p>
<p>å¦‚æœä½ ä¹‹å‰ç”¨è¿‡ JSTL æˆ–ä»»ä½•åŸºäºç±» XML è¯­è¨€çš„æ–‡æœ¬å¤„ç†å™¨ï¼Œä½ å¯¹åŠ¨æ€ SQL å…ƒç´ å¯èƒ½ä¼šæ„Ÿè§‰ä¼¼æ›¾ç›¸è¯†ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦èŠ±æ—¶é—´äº†è§£å¤§é‡çš„å…ƒç´ ã€‚å€ŸåŠ©åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼ï¼ŒMyBatis 3 æ›¿æ¢äº†ä¹‹å‰çš„å¤§éƒ¨åˆ†å…ƒç´ ï¼Œå¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨è¦å­¦ä¹ çš„å…ƒç´ ç§ç±»æ¯”åŸæ¥çš„ä¸€åŠè¿˜è¦å°‘ã€‚</p>
<h3 id="2-ifå’Œwhereæ ‡ç­¾"><a href="#2-ifå’Œwhereæ ‡ç­¾" class="headerlink" title="2. ifå’Œwhereæ ‡ç­¾"></a>2. ifå’Œwhereæ ‡ç­¾</h3><p>ä½¿ç”¨åŠ¨æ€ SQL æœ€å¸¸è§æƒ…æ™¯æ˜¯æ ¹æ®æ¡ä»¶åŒ…å« where  &#x2F; if å­å¥çš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByCondition(Employee employee); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp</span><br><span class="line">    <span class="comment">&lt;!-- whereæ ‡ç­¾ä¼šè‡ªåŠ¨å»æ‰â€œæ ‡ç­¾ä½“å†…å‰é¢å¤šä½™çš„and/orâ€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨ifæ ‡ç­¾ï¼Œè®©æˆ‘ä»¬å¯ä»¥æœ‰é€‰æ‹©çš„åŠ å…¥SQLè¯­å¥çš„ç‰‡æ®µã€‚è¿™ä¸ªSQLè¯­å¥ç‰‡æ®µæ˜¯å¦è¦åŠ å…¥æ•´ä¸ªSQLè¯­å¥ï¼Œå°±çœ‹ifæ ‡ç­¾åˆ¤æ–­çš„ç»“æœæ˜¯å¦ä¸ºtrue --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åœ¨ifæ ‡ç­¾çš„testå±æ€§ä¸­ï¼Œå¯ä»¥è®¿é—®å®ä½“ç±»çš„å±æ€§ï¼Œä¸å¯ä»¥è®¿é—®æ•°æ®åº“è¡¨çš„å­—æ®µ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- åœ¨ifæ ‡ç­¾å†…éƒ¨ï¼Œéœ€è¦è®¿é—®æ¥å£çš„å‚æ•°æ—¶è¿˜æ˜¯æ­£å¸¸å†™#&#123;&#125; --&gt;</span></span><br><span class="line">            or emp_name=#&#123;empName&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;gt;</span> 2000&quot;</span>&gt;</span></span><br><span class="line">            or emp_salary&gt;#&#123;empSalary&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ WHERE emp_name=? or emp_salary&gt;?</span></span><br><span class="line"><span class="comment">         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ WHERE emp_salary&gt;?</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ æ²¡æœ‰whereå­å¥</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-setæ ‡ç­¾"><a href="#3-setæ ‡ç­¾" class="headerlink" title="3. setæ ‡ç­¾"></a>3. setæ ‡ç­¾</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- void updateEmployeeDynamic(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployeeDynamic&quot;</span>&gt;</span></span><br><span class="line">    update t_emp</span><br><span class="line">    <span class="comment">&lt;!-- set emp_name=#&#123;empName&#125;,emp_salary=#&#123;empSalary&#125; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä½¿ç”¨setæ ‡ç­¾åŠ¨æ€ç®¡ç†setå­å¥ï¼Œå¹¶ä¸”åŠ¨æ€å»æ‰ä¸¤ç«¯å¤šä½™çš„é€—å· --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            emp_name=#&#123;empName&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;lt;</span> 3000&quot;</span>&gt;</span></span><br><span class="line">            emp_salary=#&#123;empSalary&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    where emp_id=#&#123;empId&#125;</span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ SET emp_name=?, emp_salary=?</span></span><br><span class="line"><span class="comment">         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ SET emp_salary=?</span></span><br><span class="line"><span class="comment">         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ update t_emp where emp_id=?</span></span><br><span class="line"><span class="comment">            æ²¡æœ‰setå­å¥çš„updateè¯­å¥ä¼šå¯¼è‡´SQLè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-trimæ ‡ç­¾-äº†è§£"><a href="#4-trimæ ‡ç­¾-äº†è§£" class="headerlink" title="4. trimæ ‡ç­¾(äº†è§£)"></a>4. trimæ ‡ç­¾(äº†è§£)</h3><p>ä½¿ç”¨trimæ ‡ç­¾æ§åˆ¶æ¡ä»¶éƒ¨åˆ†ä¸¤ç«¯æ˜¯å¦åŒ…å«æŸäº›å­—ç¬¦</p>
<ul>
<li>prefixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€</li>
<li>suffixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€</li>
<li>prefixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li>
<li>suffixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByTrim(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByTrim&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_age,emp_salary,emp_gender</span><br><span class="line">    from t_emp</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- prefixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- prefixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½“å‰ä¾‹å­ç”¨whereæ ‡ç­¾å®ç°æ›´ç®€æ´ï¼Œä½†æ˜¯trimæ ‡ç­¾æ›´çµæ´»ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•æœ‰éœ€è¦çš„åœ°æ–¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;and|or&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            emp_name=#&#123;empName&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;gt;</span> 3000&quot;</span>&gt;</span></span><br><span class="line">            emp_salary&gt;#&#123;empSalary&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empAge <span class="symbol">&amp;lt;</span>= 20&quot;</span>&gt;</span></span><br><span class="line">            emp_age=#&#123;empAge&#125; or</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empGender==&#x27;male&#x27;&quot;</span>&gt;</span></span><br><span class="line">            emp_gender=#&#123;empGender&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-choose-when-otherwiseæ ‡ç­¾"><a href="#5-choose-when-otherwiseæ ‡ç­¾" class="headerlink" title="5. choose&#x2F;when&#x2F;otherwiseæ ‡ç­¾"></a>5. choose&#x2F;when&#x2F;otherwiseæ ‡ç­¾</h3><p>åœ¨å¤šä¸ªåˆ†æ”¯æ¡ä»¶ä¸­ï¼Œä»…æ‰§è¡Œä¸€ä¸ªã€‚</p>
<ul>
<li>ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œæ¡ä»¶åˆ¤æ–­</li>
<li>é‡åˆ°çš„ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ä¼šè¢«é‡‡çº³</li>
<li>è¢«é‡‡çº³åˆ†æ”¯åé¢çš„åˆ†æ”¯éƒ½å°†ä¸è¢«è€ƒè™‘</li>
<li>å¦‚æœæ‰€æœ‰çš„whenåˆ†æ”¯éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œotherwiseåˆ†æ”¯</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByChoose(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByChoose&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.wzb.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp</span><br><span class="line">    where</span><br><span class="line">    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span>emp_name=#&#123;empName&#125;<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;lt;</span> 3000&quot;</span>&gt;</span>emp_salary <span class="symbol">&amp;lt;</span> 3000<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span>1=1<span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     ç¬¬ä¸€ç§æƒ…å†µï¼šç¬¬ä¸€ä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_name=?</span></span><br><span class="line"><span class="comment">     ç¬¬äºŒç§æƒ…å†µï¼šç¬¬äºŒä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_salary &lt; 3000</span></span><br><span class="line"><span class="comment">     ç¬¬ä¸‰ç§æƒ…å†µï¼šä¸¤ä¸ªwhenéƒ½ä¸æ»¡è¶³ where 1=1 æ‰§è¡Œäº†otherwise</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="6-foreachæ ‡ç­¾"><a href="#6-foreachæ ‡ç­¾" class="headerlink" title="6. foreachæ ‡ç­¾"></a>6. foreachæ ‡ç­¾</h3><p><strong>åŸºæœ¬ç”¨æ³•</strong></p>
<p>ç”¨æ‰¹é‡æ’å…¥ä¸¾ä¾‹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    collectionå±æ€§ï¼šè¦éå†çš„é›†åˆ</span></span><br><span class="line"><span class="comment">    itemå±æ€§ï¼šéå†é›†åˆçš„è¿‡ç¨‹ä¸­èƒ½å¾—åˆ°æ¯ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œåœ¨itemå±æ€§ä¸­è®¾ç½®ä¸€ä¸ªåå­—ï¼Œå°†æ¥é€šè¿‡è¿™ä¸ªåå­—å¼•ç”¨éå†å‡ºæ¥çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">    separatorå±æ€§ï¼šæŒ‡å®šå½“foreachæ ‡ç­¾çš„æ ‡ç­¾ä½“é‡å¤æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œå„ä¸ªæ ‡ç­¾ä½“å­—ç¬¦ä¸²ä¹‹é—´çš„åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">    openå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„å‰é¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">    closeå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„åé¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">    indexå±æ€§ï¼šè¿™é‡Œèµ·ä¸€ä¸ªåå­—ï¼Œä¾¿äºåé¢å¼•ç”¨</span></span><br><span class="line"><span class="comment">        éå†Listé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Listé›†åˆçš„ç´¢å¼•å€¼</span></span><br><span class="line"><span class="comment">        éå†Mapé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Mapé›†åˆçš„key</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">item</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;values&quot;</span> <span class="attr">index</span>=<span class="string">&quot;myIndex&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åœ¨foreachæ ‡ç­¾å†…éƒ¨å¦‚æœéœ€è¦å¼•ç”¨éå†å¾—åˆ°çš„å…·ä½“çš„ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨itemå±æ€§å£°æ˜çš„åç§° --&gt;</span></span><br><span class="line">    (#&#123;emp.empName&#125;,#&#123;myIndex&#125;,#&#123;emp.empSalary&#125;,#&#123;emp.empGender&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„</strong></p>
<p>ä¸Šé¢æ‰¹é‡æ’å…¥çš„ä¾‹å­æœ¬è´¨ä¸Šæ˜¯ä¸€æ¡SQLè¯­å¥ï¼Œè€Œå®ç°æ‰¹é‡æ›´æ–°åˆ™éœ€è¦å¤šæ¡SQLè¯­å¥æ‹¼èµ·æ¥ï¼Œç”¨åˆ†å·åˆ†å¼€ã€‚ä¹Ÿå°±æ˜¯ä¸€æ¬¡æ€§å‘é€å¤šæ¡SQLè¯­å¥è®©æ•°æ®åº“æ‰§è¡Œã€‚æ­¤æ—¶éœ€è¦åœ¨æ•°æ®åº“è¿æ¥ä¿¡æ¯çš„URLåœ°å€ä¸­è®¾ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wzb.dev.url=jdbc:mysql:///mybatis-example?allowMultiQueries=true</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„foreachæ ‡ç­¾å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- int updateEmployeeBatch(@Param(&quot;empList&quot;) List&lt;Employee&gt; empList) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmployeeBatch&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">item</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;;&quot;</span>&gt;</span></span><br><span class="line">        update t_emp set emp_name=#&#123;emp.empName&#125; where emp_id=#&#123;emp.empId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å…³äºforeachæ ‡ç­¾çš„collectionå±æ€§</strong></p>
<p>å¦‚æœæ²¡æœ‰ç»™æ¥å£ä¸­Listç±»å‹çš„å‚æ•°ä½¿ç”¨@Paramæ³¨è§£æŒ‡å®šä¸€ä¸ªå…·ä½“çš„åå­—ï¼Œé‚£ä¹ˆåœ¨collectionå±æ€§ä¸­é»˜è®¤å¯ä»¥ä½¿ç”¨collectionæˆ–listæ¥å¼•ç”¨è¿™ä¸ªlisté›†åˆã€‚è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡å¼‚å¸¸ä¿¡æ¯çœ‹å‡ºæ¥ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">Parameter &#x27;empList&#x27; not found. Available parameters are [arg0, collection, list]</span><br></pre></td></tr></table></figure>

<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸ºäº†é¿å…éšæ™¦çš„è¡¨è¾¾é€ æˆä¸€å®šçš„è¯¯ä¼šï¼Œå»ºè®®ä½¿ç”¨@Paramæ³¨è§£æ˜ç¡®å£°æ˜å˜é‡çš„åç§°ï¼Œç„¶ååœ¨foreachæ ‡ç­¾çš„collectionå±æ€§ä¸­æŒ‰ç…§@Paramæ³¨è§£æŒ‡å®šçš„åç§°æ¥å¼•ç”¨ä¼ å…¥çš„å‚æ•°ã€‚</p>
<h3 id="7-sqlç‰‡æ®µ"><a href="#7-sqlç‰‡æ®µ" class="headerlink" title="7. sqlç‰‡æ®µ"></a>7. sqlç‰‡æ®µ</h3><p><strong>æŠ½å–é‡å¤çš„SQLç‰‡æ®µ</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨sqlæ ‡ç­¾æŠ½å–é‡å¤å‡ºç°çš„SQLç‰‡æ®µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;mySelectSql&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_age,emp_salary,emp_gender from t_emp</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¼•ç”¨å·²æŠ½å–çš„SQLç‰‡æ®µ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨includeæ ‡ç­¾å¼•ç”¨å£°æ˜çš„SQLç‰‡æ®µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;mySelectSql&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€MyBatisé«˜çº§æ‰©å±•"><a href="#å…­ã€MyBatisé«˜çº§æ‰©å±•" class="headerlink" title="å…­ã€MyBatisé«˜çº§æ‰©å±•"></a>å…­ã€MyBatisé«˜çº§æ‰©å±•</h2><h3 id="1-Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–"><a href="#1-Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–" class="headerlink" title="1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–"></a>1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–</h3><ol>
<li><p>éœ€æ±‚</p>
<p>Mapper é…ç½®æ–‡ä»¶å¾ˆå¤šæ—¶ï¼Œåœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­ä¸€ä¸ªä¸€ä¸ªæ³¨å†Œå¤ªéº»çƒ¦ï¼Œå¸Œæœ›æœ‰ä¸€ä¸ªåŠæ³•èƒ½å¤Ÿä¸€åŠ³æ°¸é€¸ã€‚</p>
</li>
<li><p>é…ç½®æ–¹å¼</p>
<p>Mybatis å…è®¸åœ¨æŒ‡å®š Mapper æ˜ å°„æ–‡ä»¶æ—¶ï¼ŒåªæŒ‡å®šå…¶æ‰€åœ¨çš„åŒ…ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.wzb.mapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶è¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ Mapper é…ç½®æ–‡ä»¶å°†è¢«è‡ªåŠ¨åŠ è½½ã€æ³¨å†Œï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p>
</li>
<li><p>èµ„æºåˆ›å»ºè¦æ±‚</p>
</li>
</ol>
<ul>
<li>Mapper æ¥å£å’Œ Mapper é…ç½®æ–‡ä»¶åç§°ä¸€è‡´<ul>
<li>Mapper æ¥å£ï¼šEmployeeMapper.java</li>
<li>Mapper é…ç½®æ–‡ä»¶ï¼šEmployeeMapper.xml</li>
</ul>
</li>
<li>Mapper é…ç½®æ–‡ä»¶æ”¾åœ¨ Mapper æ¥å£æ‰€åœ¨çš„åŒ…å†…<ul>
<li><p>å¯ä»¥å°†mapperxmlæ–‡ä»¶æ”¾åœ¨mapperæ¥å£æ‰€åœ¨çš„åŒ…ï¼</p>
</li>
<li><p>å¯ä»¥åœ¨sourcesä¸‹åˆ›å»ºmapperæ¥å£åŒ…ä¸€è‡´çš„æ–‡ä»¶å¤¹ç»“æ„å­˜æ”¾mapperxmlæ–‡ä»¶</p>
<p><img src="image_sYJdBGnrob.png"></p>
<p><img src="image_LHdRXUdP5D.png"></p>
</li>
</ul>
</li>
</ul>
<h3 id="2-æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper"><a href="#2-æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper" class="headerlink" title="2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper"></a>2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper</h3><h4 id="2-1-æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»"><a href="#2-1-æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»" class="headerlink" title="2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»"></a>2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»</h4><p>MyBatis å¯¹æ’ä»¶è¿›è¡Œäº†æ ‡å‡†åŒ–çš„è®¾è®¡ï¼Œå¹¶æä¾›äº†ä¸€å¥—å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ã€‚æ’ä»¶å¯ä»¥åœ¨ç”¨äºè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œæ‹¦æˆªï¼Œå¹¶å…è®¸é€šè¿‡è‡ªå®šä¹‰å¤„ç†ç¨‹åºæ¥æ‹¦æˆªå’Œä¿®æ”¹ SQL è¯­å¥ã€æ˜ å°„è¯­å¥çš„ç»“æœç­‰ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒMyBatis çš„æ’ä»¶æœºåˆ¶åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªç»„ä»¶ï¼š</p>
<ol>
<li><code>Interceptor</code>ï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼šå®šä¹‰ä¸€ä¸ªæ‹¦æˆªæ–¹æ³• <code>intercept</code>ï¼Œè¯¥æ–¹æ³•åœ¨æ‰§è¡Œ SQL è¯­å¥ã€æ‰§è¡ŒæŸ¥è¯¢ã€æŸ¥è¯¢ç»“æœçš„æ˜ å°„æ—¶ä¼šè¢«è°ƒç”¨ã€‚</li>
<li><code>Invocation</code>ï¼ˆè°ƒç”¨ï¼‰ï¼šå®é™…ä¸Šæ˜¯å¯¹è¢«æ‹¦æˆªçš„æ–¹æ³•çš„å°è£…ï¼Œå°è£…äº† <code>Object target</code>ã€<code>Method method</code> å’Œ <code>Object[] args</code> è¿™ä¸‰ä¸ªå­—æ®µã€‚</li>
<li><code>InterceptorChain</code>ï¼ˆæ‹¦æˆªå™¨é“¾ï¼‰ï¼šå¯¹æ‰€æœ‰çš„æ‹¦æˆªå™¨è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬å°†æ‰€æœ‰çš„ Interceptor é“¾æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶åœ¨æ‰§è¡Œ SQL è¯­å¥æ—¶æŒ‰é¡ºåºè°ƒç”¨ã€‚</li>
</ol>
<p>æ’ä»¶çš„å¼€å‘éå¸¸ç®€å•ï¼Œåªéœ€è¦å®ç° Interceptor æ¥å£ï¼Œå¹¶ä½¿ç”¨æ³¨è§£ <code>@Intercepts</code> æ¥æ ‡æ³¨éœ€è¦æ‹¦æˆªçš„å¯¹è±¡å’Œæ–¹æ³•ï¼Œç„¶ååœ¨ MyBatis çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ’ä»¶å³å¯ã€‚</p>
<p>PageHelper æ˜¯ MyBatis ä¸­æ¯”è¾ƒè‘—åçš„åˆ†é¡µæ’ä»¶ï¼Œå®ƒæä¾›äº†å¤šç§åˆ†é¡µæ–¹å¼ï¼ˆä¾‹å¦‚ MySQL å’Œ Oracle åˆ†é¡µæ–¹å¼ï¼‰ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¹¶ä¸”ä½¿ç”¨éå¸¸ç®€å•ã€‚ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹ PageHelper çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md#%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%B9%E8%A8%80">https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md#å¦‚ä½•é…ç½®æ•°æ®åº“æ–¹è¨€</a></p>
<h4 id="2-2-PageHelperæ’ä»¶ä½¿ç”¨"><a href="#2-2-PageHelperæ’ä»¶ä½¿ç”¨" class="headerlink" title="2.2 PageHelperæ’ä»¶ä½¿ç”¨"></a>2.2 PageHelperæ’ä»¶ä½¿ç”¨</h4><ol>
<li><p>pom.xmlå¼•å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>mybatis-config.xmlé…ç½®åˆ†é¡µæ’ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;helperDialect&quot;</span> <span class="attr">value</span>=<span class="string">&quot;mysql&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¶ä¸­ï¼Œ<code>com.github.pagehelper.PageInterceptor</code> æ˜¯ PageHelper æ’ä»¶çš„åç§°ï¼Œ<code>dialect</code> å±æ€§ç”¨äºæŒ‡å®šæ•°æ®åº“ç±»å‹ï¼ˆæ”¯æŒå¤šç§æ•°æ®åº“ï¼‰</p>
</blockquote>
</li>
<li><p>é¡µæ’ä»¶ä½¿ç”¨</p>
<p>åœ¨æŸ¥è¯¢æ–¹æ³•ä¸­ä½¿ç”¨åˆ†é¡µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTeacherRelationshipToMulti</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">TeacherMapper</span> <span class="variable">teacherMapper</span> <span class="operator">=</span> session.getMapper(TeacherMapper.class);</span><br><span class="line"></span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span></span><br><span class="line">    List&lt;Teacher&gt; allTeachers = teacherMapper.findAllTeachers();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">    PageInfo&lt;Teacher&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">PageInfo</span>&lt;&gt;(allTeachers);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;pageInfo = &quot;</span> + pageInfo);</span><br><span class="line">    <span class="type">long</span> <span class="variable">total</span> <span class="operator">=</span> pageInfo.getTotal(); <span class="comment">// è·å–æ€»è®°å½•æ•°</span></span><br><span class="line">    System.out.println(<span class="string">&quot;total = &quot;</span> + total);</span><br><span class="line">    <span class="type">int</span> <span class="variable">pages</span> <span class="operator">=</span> pageInfo.getPages();  <span class="comment">// è·å–æ€»é¡µæ•°</span></span><br><span class="line">    System.out.println(<span class="string">&quot;pages = &quot;</span> + pages);</span><br><span class="line">    <span class="type">int</span> <span class="variable">pageNum</span> <span class="operator">=</span> pageInfo.getPageNum(); <span class="comment">// è·å–å½“å‰é¡µç </span></span><br><span class="line">    System.out.println(<span class="string">&quot;pageNum = &quot;</span> + pageNum);</span><br><span class="line">    <span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> pageInfo.getPageSize(); <span class="comment">// è·å–æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°</span></span><br><span class="line">    System.out.println(<span class="string">&quot;pageSize = &quot;</span> + pageSize);</span><br><span class="line">    List&lt;Teacher&gt; teachers = pageInfo.getList(); <span class="comment">//è·å–æŸ¥è¯¢é¡µçš„æ•°æ®é›†åˆ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;teachers = &quot;</span> + teachers);</span><br><span class="line">    teachers.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="3-é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶"><a href="#3-é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶" class="headerlink" title="3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶"></a>3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶</h3><h4 id="3-1-ORMæ€ç»´ä»‹ç»"><a href="#3-1-ORMæ€ç»´ä»‹ç»" class="headerlink" title="3.1 ORMæ€ç»´ä»‹ç»"></a>3.1 ORMæ€ç»´ä»‹ç»</h4><p>ORMï¼ˆObject-Relational Mappingï¼Œå¯¹è±¡-å…³ç³»æ˜ å°„ï¼‰æ˜¯ä¸€ç§å°†æ•°æ®åº“å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„å¯¹è±¡ä¹‹é—´è¿›è¡Œè½¬æ¢çš„æŠ€æœ¯ã€‚å®ƒå°†å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“çš„æ¦‚å¿µè¿›è¡Œæ˜ å°„ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„æ“ä½œå°†å¯¹è±¡å…³è”åˆ°æ•°æ®è¡¨ä¸­çš„ä¸€è¡Œæˆ–å¤šè¡Œä¸Šã€‚</p>
<p>è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡æ€ç»´è¿›è¡Œæ•°æ®åº“æ“ä½œï¼ï¼ï¼</p>
<p><strong>ORM æ¡†æ¶é€šå¸¸æœ‰åŠè‡ªåŠ¨å’Œå…¨è‡ªåŠ¨ä¸¤ç§æ–¹å¼ã€‚</strong></p>
<ul>
<li>åŠè‡ªåŠ¨ ORM é€šå¸¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œå°†å®ä½“ç±»å’Œæ•°æ®è¡¨è¿›è¡Œæ˜ å°„ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨å°†æŸ¥è¯¢çš„ç»“æœé›†è½¬æ¢æˆå®ä½“å¯¹è±¡ã€‚</li>
<li>å…¨è‡ªåŠ¨ ORM åˆ™æ˜¯å°†å®ä½“ç±»å’Œæ•°æ®è¡¨è¿›è¡Œè‡ªåŠ¨æ˜ å°„ï¼Œä½¿ç”¨ API è¿›è¡Œæ•°æ®åº“æ“ä½œæ—¶ï¼ŒORM æ¡†æ¶ä¼šè‡ªåŠ¨æ‰§è¡Œ SQL è¯­å¥å¹¶å°†æŸ¥è¯¢ç»“æœè½¬æ¢æˆå®ä½“å¯¹è±¡ï¼Œç¨‹åºå‘˜æ— éœ€å†æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å’Œè½¬æ¢ä»£ç ã€‚</li>
</ul>
<p><strong>ä¸‹é¢æ˜¯åŠè‡ªåŠ¨å’Œå…¨è‡ªåŠ¨ ORM æ¡†æ¶çš„åŒºåˆ«ï¼š</strong></p>
<ol>
<li>æ˜ å°„æ–¹å¼ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨æŒ‡å®šå®ä½“ç±»å’Œæ•°æ®è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œé€šå¸¸ä½¿ç”¨ XML æ–‡ä»¶æˆ–æ³¨è§£æ–¹å¼æ¥æŒ‡å®šï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶åˆ™å¯ä»¥è‡ªåŠ¨è¿›è¡Œå®ä½“ç±»å’Œæ•°æ®è¡¨çš„æ˜ å°„ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</li>
<li>æŸ¥è¯¢æ–¹å¼ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶é€šå¸¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å¹¶å°†æŸ¥è¯¢ç»“æœé›†è½¬æ¢æˆå®ä½“å¯¹è±¡ï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶å¯ä»¥è‡ªåŠ¨ç»„è£… SQL è¯­å¥ã€æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœè½¬æ¢æˆå®ä½“å¯¹è±¡ã€‚</li>
<li>æ€§èƒ½ï¼šç”±äºåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥ï¼Œå› æ­¤ç¨‹åºå‘˜å¿…é¡»å¯¹ SQL è¯­å¥å’Œæ•°æ®åº“çš„åº•å±‚çŸ¥è¯†æœ‰ä¸€å®šçš„äº†è§£ï¼Œæ‰èƒ½ç¼–å†™é«˜æ•ˆçš„ SQL è¯­å¥ï¼›è€Œå…¨è‡ªåŠ¨ ORM æ¡†æ¶é€šè¿‡è‡ªåŠ¨ä¼˜åŒ–ç”Ÿæˆçš„ SQL è¯­å¥æ¥æé«˜æ€§èƒ½ï¼Œç¨‹åºå‘˜æ— éœ€è¿›è¡Œä¼˜åŒ–ã€‚</li>
<li>å­¦ä¹ æˆæœ¬ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å’Œæ˜ å°„é…ç½®ï¼Œè¦æ±‚ç¨‹åºå‘˜å…·å¤‡è¾ƒé«˜çš„æ•°æ®åº“å’Œ SQL çŸ¥è¯†ï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ SQL è¯­å¥å’Œæ˜ å°„é…ç½®ï¼Œç¨‹åºå‘˜æ— éœ€äº†è§£è¿‡å¤šçš„æ•°æ®åº“å’Œ SQL çŸ¥è¯†ã€‚</li>
</ol>
<p>å¸¸è§çš„åŠè‡ªåŠ¨ ORM æ¡†æ¶åŒ…æ‹¬ MyBatis ç­‰ï¼›å¸¸è§çš„å…¨è‡ªåŠ¨ ORM æ¡†æ¶åŒ…æ‹¬ Hibernateã€Spring Data JPAã€MyBatis-Plus ç­‰ã€‚</p>
<h4 id="3-2-é€†å‘å·¥ç¨‹"><a href="#3-2-é€†å‘å·¥ç¨‹" class="headerlink" title="3.2 é€†å‘å·¥ç¨‹"></a>3.2 é€†å‘å·¥ç¨‹</h4><p>&#x20;   MyBatis çš„é€†å‘å·¥ç¨‹æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–ç”ŸæˆæŒä¹…å±‚ä»£ç å’Œæ˜ å°„æ–‡ä»¶çš„å·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„å’Œè®¾ç½®çš„å‚æ•°ç”Ÿæˆå¯¹åº”çš„å®ä½“ç±»ã€Mapper.xml æ–‡ä»¶ã€Mapper æ¥å£ç­‰ä»£ç æ–‡ä»¶ï¼Œç®€åŒ–äº†å¼€å‘è€…æ‰‹åŠ¨ç”Ÿæˆçš„è¿‡ç¨‹ã€‚é€†å‘å·¥ç¨‹ä½¿å¼€å‘è€…å¯ä»¥å¿«é€Ÿåœ°æ„å»ºèµ· DAO å±‚ï¼Œå¹¶å¿«é€Ÿä¸Šæ‰‹è¿›è¡Œä¸šåŠ¡å¼€å‘ã€‚<br>&#x20;  MyBatis çš„é€†å‘å·¥ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼šé€šè¿‡ MyBatis Generator æ’ä»¶å®ç°å’Œé€šè¿‡ Maven æ’ä»¶å®ç°ã€‚æ— è®ºæ˜¯å“ªç§æ–¹å¼ï¼Œé€†å‘å·¥ç¨‹ä¸€èˆ¬éœ€è¦æŒ‡å®šä¸€äº›é…ç½®å‚æ•°ï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥ URLã€ç”¨æˆ·åã€å¯†ç ã€è¦ç”Ÿæˆçš„è¡¨åã€ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„ç­‰ç­‰ã€‚<br>&#x20;  æ€»çš„æ¥è¯´ï¼ŒMyBatis çš„é€†å‘å·¥ç¨‹ä¸ºç¨‹åºå‘˜æä¾›äº†ä¸€ç§æ–¹ä¾¿å¿«æ·çš„æ–¹å¼ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°ç”ŸæˆæŒä¹…å±‚ä»£ç å’Œæ˜ å°„æ–‡ä»¶ï¼Œæ˜¯åŠè‡ªåŠ¨ ORM æ€ç»´åƒå…¨è‡ªåŠ¨å‘å±•çš„è¿‡ç¨‹ï¼Œæé«˜ç¨‹åºå‘˜çš„å¼€å‘æ•ˆç‡ã€‚</p>
<p><strong>æ³¨æ„ï¼šé€†å‘å·¥ç¨‹åªèƒ½ç”Ÿæˆå•è¡¨crudçš„æ“ä½œï¼Œå¤šè¡¨æŸ¥è¯¢ä¾ç„¶éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™ï¼</strong></p>
<h4 id="3-3-é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨"><a href="#3-3-é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨" class="headerlink" title="3.3 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨"></a>3.3 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨</h4><p>&#x20;  MyBatisX æ˜¯ä¸€ä¸ª MyBatis çš„ä»£ç ç”Ÿæˆæ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®å’Œæ“ä½œå¿«é€Ÿç”Ÿæˆ MyBatis Mapperã€pojo ç±»å’Œ Mapper.xml æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ MyBatisX æ’ä»¶å®ç°é€†å‘å·¥ç¨‹çš„æ­¥éª¤ï¼š</p>
<ol>
<li><p>å®‰è£…æ’ä»¶ï¼š</p>
<p>åœ¨ IntelliJ IDEA ä¸­æ‰“å¼€æ’ä»¶å¸‚åœºï¼Œæœç´¢ MyBatisX å¹¶å®‰è£…ã€‚</p>
</li>
<li><p>ä½¿ç”¨ IntelliJ IDEAè¿æ¥æ•°æ®åº“</p>
<ul>
<li><p>è¿æ¥æ•°æ®åº“</p>
<p><img src="image_fm-MFSwW33.png"></p>
</li>
<li><p>å¡«å†™ä¿¡æ¯</p>
<p><img src="image_c54BDsubkg.png"></p>
</li>
<li><p>å±•ç¤ºåº“è¡¨</p>
<p><img src="image_7J4tAEH5JE.png"></p>
</li>
<li><p>é€†å‘å·¥ç¨‹ä½¿ç”¨</p>
<p><img src="image_AohjPJQ-7l.png"></p>
<p><img src="image_FIuODxPKf7.png"></p>
<p><img src="image_uRRJaZzTo8.png"></p>
</li>
</ul>
</li>
<li><p>æŸ¥çœ‹ç”Ÿæˆç»“æœ</p>
<p><img src="image_xhjGu_4Ce4.png"></p>
</li>
<li><p>é€†å‘å·¥ç¨‹æ¡ˆä¾‹ä½¿ç”¨</p>
<p>æ­£å¸¸ä½¿ç”¨å³å¯ï¼Œè‡ªåŠ¨ç”Ÿæˆå•è¡¨çš„crudæ–¹æ³•ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wzb.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wzb.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> Jackiechan</span></span><br><span class="line"><span class="comment">* <span class="doctag">@description</span> é’ˆå¯¹è¡¨ã€userã€‘çš„æ•°æ®åº“æ“ä½œMapper</span></span><br><span class="line"><span class="comment">* <span class="doctag">@createDate</span> 2023-06-02 16:55:32</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Entity</span> com.wzb.pojo.User</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteByPrimaryKey</span><span class="params">(Long id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">insert</span><span class="params">(User record)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">insertSelective</span><span class="params">(User record)</span>;</span><br><span class="line"></span><br><span class="line">    User <span class="title function_">selectByPrimaryKey</span><span class="params">(Long id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateByPrimaryKeySelective</span><span class="params">(User record)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateByPrimaryKey</span><span class="params">(User record)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="ä¸ƒã€MyBatisæ€»ç»“"><a href="#ä¸ƒã€MyBatisæ€»ç»“" class="headerlink" title="ä¸ƒã€MyBatisæ€»ç»“"></a>ä¸ƒã€MyBatisæ€»ç»“</h2><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img014.4d03b574.png"></p>
<ul>
<li>Mybatisç¯å¢ƒæ‰€éœ€ä¾èµ– â˜…</li>
<li>é…ç½®<ul>
<li>Mybatiså…¨å±€é…ç½®</li>
<li>Mapperé…ç½® â˜…</li>
</ul>
</li>
<li>Mapperæ¥å£ â˜…</li>
<li>API<ul>
<li>SqlSessionFactory</li>
<li>SqlSession</li>
</ul>
</li>
<li>é€†å‘å·¥ç¨‹&#x20;</li>
<li>åˆ†é¡µæ’ä»¶</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">æ˜</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2024/05/23/MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/">http://example.com/2024/05/23/MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://example.com" target="_blank">å­¦ä¹ ç¬”è®°</a>ï¼</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/06/02/SSM%E6%95%B4%E5%90%88/" title="SSMæ•´åˆ"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">SSMæ•´åˆ</div></div><div class="info-2"><div class="info-item-1">SSMæ•´åˆç›®å½• ä¸€ã€SSMæ•´åˆç†è§£ 1. ä»€ä¹ˆæ˜¯SSMæ•´åˆï¼Ÿ 2. SSMæ•´åˆæ ¸å¿ƒç†è§£äº”è¿é—®ï¼ 2.1 SSMæ•´åˆæ¶‰åŠå‡ ä¸ªIoCå®¹å™¨ï¼Ÿ 2.2 æ¯ä¸ªIoCå®¹å™¨ç››æ”¾å“ªäº›ç»„ä»¶ï¼Ÿ 2.3 IoCå®¹å™¨ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ 2.4 éœ€è¦å‡ ä¸ªé…ç½®æ–‡ä»¶å’Œå¯¹åº”IoCå®¹å™¨å…³ç³»ï¼Ÿ 2.5 IoCå®¹å™¨åˆå§‹åŒ–æ–¹å¼ï¼Ÿ     äºŒã€SSMæ•´åˆé…ç½®å®æˆ˜ 1. ä¾èµ–æ·»åŠ  2. æ§åˆ¶å±‚é…ç½®ç¼–å†™(SpringMVCæ•´åˆ) 3. ä¸šåŠ¡å±‚é…ç½®ç¼–å†™(AOP &#x2F; TXæ•´åˆï¼‰ 4. æŒä¹…å±‚é…ç½®ç¼–å†™(MyBatisæ•´åˆ) 5. å®¹å™¨åˆå§‹åŒ–é…ç½®web.xml 6. æ•´åˆæµ‹è¯•   ä¸‰ã€å‰ç«¯ç¨‹åºæ­å»ºå’Œè¿è¡Œ 1. æ¡ˆä¾‹åŠŸèƒ½å’Œæ¥å£åˆ†æ 1.1 æ¡ˆä¾‹åŠŸèƒ½é¢„è§ˆ 1.2 æ¥å£åˆ†æ   2. å‰ç«¯å·¥ç¨‹å¯¼å…¥ 3. å¯åŠ¨æµ‹è¯•   å››ã€åç«¯ç¨‹åºå®ç°å’Œæµ‹è¯• 1.  å‡†å¤‡å·¥ä½œ 2. åŠŸèƒ½å®ç° 3. å‰åè”è°ƒ   äº”ã€SSMæŠ€æœ¯æ ˆæ€»ç»“ 1. Springæ¡†æ¶æ€»ç»“ 1.1 æŠ€æœ¯ç‚¹æ€»ç»“ 1.2 é…ç½®æ€»ç»“ 1.3 æ³¨è§£æ€»ç»“   2. Spring MVC æ¡†æ¶æ€»ç»“ 2.1 æŠ€æœ¯ç‚¹æ€»ç»“ 2.2 é…ç½®æ€»ç»“ 2.3 æ³¨è§£æ€»ç»“   3. MyBatisæ¡†æ¶æ€»ç»“ 3...</div></div></div></a><a class="pagination-related" href="/2024/05/01/Spring%20MVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6/" title="Spring MVCæ§åˆ¶å±‚æ¡†æ¶"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Spring MVCæ§åˆ¶å±‚æ¡†æ¶</div></div><div class="info-2"><div class="info-item-1">Spring MVCæ§åˆ¶å±‚æ¡†æ¶ç›®å½• ä¸€ã€SpringMVCç®€ä»‹å’Œä½“éªŒ 1. ä»‹ç» 2. ä¸»è¦ä½œç”¨ 3. æ ¸å¿ƒç»„ä»¶å’Œè°ƒç”¨æµç¨‹ç†è§£ 4. å¿«é€Ÿä½“éªŒ   äºŒã€SpringMVCæ¥æ”¶æ•°æ® 1. è®¿é—®è·¯å¾„è®¾ç½® 2. æ¥æ”¶å‚æ•°ï¼ˆé‡ç‚¹ï¼‰ 2.1 param å’Œ jsonå‚æ•°æ¯”è¾ƒ 2.2 paramå‚æ•°æ¥æ”¶ 2.3 è·¯å¾„ å‚æ•°æ¥æ”¶ 2.4 jsonå‚æ•°æ¥æ”¶   3. æ¥æ”¶Cookieæ•°æ® 4. æ¥æ”¶è¯·æ±‚å¤´æ•°æ® 5. åŸç”ŸApiå¯¹è±¡æ“ä½œ 6. å…±äº«åŸŸå¯¹è±¡æ“ä½œ 6.1 å±æ€§ï¼ˆå…±äº«ï¼‰åŸŸä½œç”¨å›é¡¾ 6.2 Requestçº§åˆ«å±æ€§ï¼ˆå…±äº«ï¼‰åŸŸ 6.3 Sessionçº§åˆ«å±æ€§ï¼ˆå…±äº«ï¼‰åŸŸ 6.4 Applicationçº§åˆ«å±æ€§ï¼ˆå…±äº«ï¼‰åŸŸ     ä¸‰ã€SpringMVCå“åº”æ•°æ® 1. handleræ–¹æ³•åˆ†æ 2. é¡µé¢è·³è½¬æ§åˆ¶ 2.1 å¿«é€Ÿè¿”å›jspè§†å›¾ 2.2 è½¬å‘å’Œé‡å®šå‘   3. è¿”å›JSONæ•°æ®ï¼ˆé‡ç‚¹ï¼‰ 3.1 å‰ç½®å‡†å¤‡ 3.2 @ResponseBody 3.3 @RestController   4. è¿”å›é™æ€èµ„æºå¤„ç†   å››ã€RESTFulé£æ ¼è®¾è®¡ 1. RESTFulé£æ ¼æ¦‚è¿° 1.1 RESTFul...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">æ˜</div><div class="author-info-description">è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„ç‚¹ç‚¹æ»´æ»´</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6"><span class="toc-text">MyBatisæŒä¹…å±‚æ¡†æ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-text">ç›®å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Mybatis%E7%AE%80%E4%BB%8B"><span class="toc-text">ä¸€ã€Mybatisç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="toc-text">1. ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94"><span class="toc-text">2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E5%9F%BA%E4%BA%8EMybatis3%E6%96%B9%E5%BC%8F%EF%BC%89"><span class="toc-text">3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%89%A9%E5%B1%95"><span class="toc-text">äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%A8%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E6%9B%BF%E4%BB%A3sout"><span class="toc-text">1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Java%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB%E6%BC%94%E5%8F%98"><span class="toc-text">2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9C%80%E4%BD%B3%E6%8B%8D%E6%A1%A3%E7%94%A8%E6%B3%95"><span class="toc-text">3. æœ€ä½³æ‹æ¡£ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">4. Lombokæ’ä»¶çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Lombok%E7%AE%80%E4%BB%8B"><span class="toc-text">4.1 Lombokç®€ä»‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Lombok%E5%AE%89%E8%A3%85"><span class="toc-text">4.2 Lombokå®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-Lombok%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-text">4.3 Lombokä½¿ç”¨æ³¨è§£</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81MyBatis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%90%91SQL%E8%AF%AD%E5%8F%A5%E4%BC%A0%E5%8F%82"><span class="toc-text">1. å‘SQLè¯­å¥ä¼ å‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%BD%A2%E5%BC%8F"><span class="toc-text">1.2 #{}å½¢å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%BD%A2%E5%BC%8F"><span class="toc-text">1.3 ${}å½¢å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5"><span class="toc-text">2. æ•°æ®è¾“å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-Mybatis%E6%80%BB%E4%BD%93%E6%9C%BA%E5%88%B6%E6%A6%82%E6%8B%AC"><span class="toc-text">2.1 Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%A6%82%E5%BF%B5%E8%AF%B4%E6%98%8E"><span class="toc-text">2.2 æ¦‚å¿µè¯´æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-text">2.3 å•ä¸ªç®€å•ç±»å‹å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-text">2.4 å®ä½“ç±»ç±»å‹å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-%E9%9B%B6%E6%95%A3%E7%9A%84%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE"><span class="toc-text">2.5 é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-Map%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-text">2.6 Mapç±»å‹å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA"><span class="toc-text">3. æ•°æ®è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E8%BE%93%E5%87%BA%E6%A6%82%E8%BF%B0"><span class="toc-text">3.1 è¾“å‡ºæ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.2 å•ä¸ªç®€å•ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E8%BF%94%E5%9B%9E%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="toc-text">3.3 è¿”å›å®ä½“ç±»å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-%E8%BF%94%E5%9B%9EMap%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.4 è¿”å›Mapç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-%E8%BF%94%E5%9B%9EList%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.5 è¿”å›Listç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE%E5%80%BC"><span class="toc-text">3.6 è¿”å›ä¸»é”®å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-text">3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-CRUD%E5%BC%BA%E5%8C%96%E7%BB%83%E4%B9%A0"><span class="toc-text">4. CRUDå¼ºåŒ–ç»ƒä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-mapperXML%E6%A0%87%E7%AD%BE%E6%80%BB%E7%BB%93"><span class="toc-text">5. mapperXMLæ ‡ç­¾æ€»ç»“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-mybatis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A0%87%E7%AD%BE%E5%92%8C%E9%A1%B6%E5%B1%82%E7%BB%93%E6%9E%84%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">6.mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81MyBatis%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84"><span class="toc-text">å››ã€MyBatiså¤šè¡¨æ˜ å°„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%A6%82%E5%BF%B5"><span class="toc-text">1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84"><span class="toc-text">2. å¯¹ä¸€æ˜ å°„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84"><span class="toc-text">3. å¯¹å¤šæ˜ å°„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A4%9A%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84"><span class="toc-text">4. å¤šå¯¹å¤šæ˜ å°„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93"><span class="toc-text">5. å¤šè¡¨æ˜ å°„æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96"><span class="toc-text">5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93"><span class="toc-text">5.2 å¤šè¡¨æ˜ å°„æ€»ç»“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-%E5%88%86%E6%AD%A5%E6%9F%A5%E8%AF%A2"><span class="toc-text">5.3 åˆ†æ­¥æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD"><span class="toc-text">5.4 å»¶è¿ŸåŠ è½½</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81MyBatis%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5-%E5%8A%A8%E6%80%81SQL"><span class="toc-text">äº”ã€MyBatisåŠ¨æ€è¯­å¥(åŠ¨æ€SQL)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5%E9%9C%80%E6%B1%82%E5%92%8C%E7%AE%80%E4%BB%8B"><span class="toc-text">1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-if%E5%92%8Cwhere%E6%A0%87%E7%AD%BE"><span class="toc-text">2. ifå’Œwhereæ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-set%E6%A0%87%E7%AD%BE"><span class="toc-text">3. setæ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-trim%E6%A0%87%E7%AD%BE-%E4%BA%86%E8%A7%A3"><span class="toc-text">4. trimæ ‡ç­¾(äº†è§£)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-choose-when-otherwise%E6%A0%87%E7%AD%BE"><span class="toc-text">5. choose&#x2F;when&#x2F;otherwiseæ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-foreach%E6%A0%87%E7%AD%BE"><span class="toc-text">6. foreachæ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-sql%E7%89%87%E6%AE%B5"><span class="toc-text">7. sqlç‰‡æ®µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81MyBatis%E9%AB%98%E7%BA%A7%E6%89%A9%E5%B1%95"><span class="toc-text">å…­ã€MyBatisé«˜çº§æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Mapper%E6%89%B9%E9%87%8F%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96"><span class="toc-text">1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%92%E4%BB%B6%E5%92%8C%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6PageHelper"><span class="toc-text">2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%8F%92%E4%BB%B6%E6%9C%BA%E5%88%B6%E5%92%8CPageHelper%E6%8F%92%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-PageHelper%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8"><span class="toc-text">2.2 PageHelperæ’ä»¶ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%92%8CMybatisX%E6%8F%92%E4%BB%B6"><span class="toc-text">3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-ORM%E6%80%9D%E7%BB%B4%E4%BB%8B%E7%BB%8D"><span class="toc-text">3.1 ORMæ€ç»´ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="toc-text">3.2 é€†å‘å·¥ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E6%8F%92%E4%BB%B6MyBatisX%E4%BD%BF%E7%94%A8"><span class="toc-text">3.3 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81MyBatis%E6%80%BB%E7%BB%93"><span class="toc-text">ä¸ƒã€MyBatisæ€»ç»“</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/13/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="é£Ÿåˆ†é€Ÿé€’é¡¹ç›®">é£Ÿåˆ†é€Ÿé€’é¡¹ç›®</a><time datetime="2024-09-13T04:02:03.000Z" title="å‘è¡¨äº 2024-09-13 12:02:03">2024-09-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/03/%E9%A3%9F%E5%88%86%E9%80%9F%E9%80%92%E9%A1%B9%E7%9B%AE/" title="é£Ÿåˆ†é€Ÿé€’é¡¹ç›®">é£Ÿåˆ†é€Ÿé€’é¡¹ç›®</a><time datetime="2024-08-03T01:12:58.000Z" title="å‘è¡¨äº 2024-08-03 09:12:58">2024-08-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/03/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D/" title="è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»">è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»</a><time datetime="2024-08-02T23:42:56.000Z" title="å‘è¡¨äº 2024-08-03 07:42:56">2024-08-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/06/springboot%E5%AD%A6%E4%B9%A0/" title="springbootå­¦ä¹ ">springbootå­¦ä¹ </a><time datetime="2024-07-06T12:42:13.000Z" title="å‘è¡¨äº 2024-07-06 20:42:13">2024-07-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/02/SSM%E6%95%B4%E5%90%88/" title="SSMæ•´åˆ">SSMæ•´åˆ</a><time datetime="2024-06-02T01:14:43.000Z" title="å‘è¡¨äº 2024-06-02 09:14:43">2024-06-02</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By æ˜</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢æ–‡ç« " type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>